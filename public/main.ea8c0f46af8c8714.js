"use strict";(self.webpackChunkUVT=self.webpackChunkUVT||[]).push([[179],{827:()=>{function we(t){return"function"==typeof t}function Fa(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Il=Fa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ka(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class hn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(we(r))try{r()}catch(o){e=o instanceof Il?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{iw(o)}catch(s){e=e??[],s instanceof Il?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Il(e)}}add(e){var n;if(e&&e!==this)if(this.closed)iw(e);else{if(e instanceof hn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ka(n,e)}remove(e){const{_finalizers:n}=this;n&&ka(n,e),e instanceof hn&&e._removeParent(this)}}hn.EMPTY=(()=>{const t=new hn;return t.closed=!0,t})();const nw=hn.EMPTY;function rw(t){return t instanceof hn||t&&"closed"in t&&we(t.remove)&&we(t.add)&&we(t.unsubscribe)}function iw(t){we(t)?t():t.unsubscribe()}const Li={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wl={setTimeout(t,e,...n){const{delegate:r}=wl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=wl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ow(t){wl.setTimeout(()=>{const{onUnhandledError:e}=Li;if(!e)throw t;e(t)})}function wp(){}const VO=Dp("C",void 0,void 0);function Dp(t,e,n){return{kind:t,value:e,error:n}}let Bi=null;function Dl(t){if(Li.useDeprecatedSynchronousErrorHandling){const e=!Bi;if(e&&(Bi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Bi;if(Bi=null,n)throw r}}else t()}class Cp extends hn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rw(e)&&e.add(this)):this.destination=jO}static create(e,n,r){return new La(e,n,r)}next(e){this.isStopped?Ap(function FO(t){return Dp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ap(function OO(t){return Dp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ap(VO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const LO=Function.prototype.bind;function Tp(t,e){return LO.call(t,e)}class BO{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cl(r)}else Cl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cl(n)}}}class La extends Cp{constructor(e,n,r){let i;if(super(),we(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Li.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tp(e.next,o),error:e.error&&Tp(e.error,o),complete:e.complete&&Tp(e.complete,o)}):i=e}this.destination=new BO(i)}}function Cl(t){Li.useDeprecatedSynchronousErrorHandling?function kO(t){Li.useDeprecatedSynchronousErrorHandling&&Bi&&(Bi.errorThrown=!0,Bi.error=t)}(t):ow(t)}function Ap(t,e){const{onStoppedNotification:n}=Li;n&&wl.setTimeout(()=>n(t,e))}const jO={closed:!0,next:wp,error:function UO(t){throw t},complete:wp},bp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Jr(t){return t}function sw(t){return 0===t.length?Jr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let nt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function GO(t){return t&&t instanceof Cp||function HO(t){return t&&we(t.next)&&we(t.error)&&we(t.complete)}(t)&&rw(t)}(n)?n:new La(n,r,i);return Dl(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=aw(r))((i,o)=>{const s=new La({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[bp](){return this}pipe(...n){return sw(n)(this)}toPromise(n){return new(n=aw(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function aw(t){var e;return null!==(e=t??Li.Promise)&&void 0!==e?e:Promise}const qO=Fa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let kn=(()=>{class t extends nt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new uw(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qO}next(n){Dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?nw:(this.currentObservers=null,o.push(n),new hn(()=>{this.currentObservers=null,ka(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new nt;return n.source=this,n}}return t.create=(e,n)=>new uw(e,n),t})();class uw extends kn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:nw}}function cw(t){return we(t?.lift)}function st(t){return e=>{if(cw(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(t,e,n,r,i){return new zO(t,e,n,r,i)}class zO extends Cp{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Te(t,e){return st((n,r)=>{let i=0;n.subscribe(rt(r,o=>{r.next(t.call(e,o,i++))}))})}function ei(t){return this instanceof ei?(this.v=t,this):new ei(t)}function fw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function xp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const pw=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function gw(t){return we(t?.then)}function mw(t){return we(t[bp])}function _w(t){return Symbol.asyncIterator&&we(t?.[Symbol.asyncIterator])}function yw(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vw=function pF(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ew(t){return we(t?.[vw])}function Iw(t){return function hw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ei?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ei(n.read());if(i)return yield ei(void 0);yield yield ei(r)}}finally{n.releaseLock()}})}function ww(t){return we(t?.getReader)}function fn(t){if(t instanceof nt)return t;if(null!=t){if(mw(t))return function gF(t){return new nt(e=>{const n=t[bp]();if(we(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(pw(t))return function mF(t){return new nt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(gw(t))return function _F(t){return new nt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ow)})}(t);if(_w(t))return Dw(t);if(Ew(t))return function yF(t){return new nt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ww(t))return function vF(t){return Dw(Iw(t))}(t)}throw yw(t)}function Dw(t){return new nt(e=>{(function EF(t,e){var n,r,i,o;return function lw(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=fw(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ar(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Et(t,e,n=1/0){return we(e)?Et((r,i)=>Te((o,s)=>e(r,o,i,s))(fn(t(r,i))),n):("number"==typeof e&&(n=e),st((r,i)=>function IF(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let m=!1;fn(n(g,l++)).subscribe(rt(e,v=>{i?.(v),o?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();s?Ar(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(rt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Po(t=1/0){return Et(Jr,t)}const Xn=new nt(t=>t.complete());function Pp(t){return t[t.length-1]}function Cw(t){return we(Pp(t))?t.pop():void 0}function Ba(t){return function DF(t){return t&&we(t.schedule)}(Pp(t))?t.pop():void 0}function Tw(t,e=0){return st((n,r)=>{n.subscribe(rt(r,i=>Ar(r,t,()=>r.next(i),e),()=>Ar(r,t,()=>r.complete(),e),i=>Ar(r,t,()=>r.error(i),e)))})}function Aw(t,e=0){return st((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bw(t,e){if(!t)throw new Error("Iterable cannot be null");return new nt(n=>{Ar(n,e,()=>{const r=t[Symbol.asyncIterator]();Ar(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ht(t,e){return e?function MF(t,e){if(null!=t){if(mw(t))return function TF(t,e){return fn(t).pipe(Aw(e),Tw(e))}(t,e);if(pw(t))return function bF(t,e){return new nt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(gw(t))return function AF(t,e){return fn(t).pipe(Aw(e),Tw(e))}(t,e);if(_w(t))return bw(t,e);if(Ew(t))return function SF(t,e){return new nt(n=>{let r;return Ar(n,e,()=>{r=t[vw](),Ar(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>we(r?.return)&&r.return()})}(t,e);if(ww(t))return function RF(t,e){return bw(Iw(t),e)}(t,e)}throw yw(t)}(t,e):fn(t)}class An extends kn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Q(...t){return ht(t,Ba(t))}function Sw(t={}){const{connector:e=(()=>new kn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return st((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Np(p,i))}),v.subscribe(m),!s&&c>0&&(s=new La({next:_=>v.next(_),error:_=>{d=!0,h(),a=Np(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Np(f,r),v.complete()}}),fn(g).subscribe(s))})(o)}}function Np(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new La({next:()=>{r.unsubscribe(),t()}});return fn(e(...n)).subscribe(r)}function Jn(t,e){return st((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(rt(r,u=>{i?.unsubscribe();let c=0;const l=o++;fn(t(u,l)).subscribe(i=rt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function NF(t,e){return t===e}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function Tl(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Vp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const VF=_e({__forward_ref__:_e});function be(t){return t.__forward_ref__=be,t.toString=function(){return at(this())},t}function z(t){return Op(t)?t():t}function Op(t){return"function"==typeof t&&t.hasOwnProperty(VF)&&t.__forward_ref__===be}function Fp(t){return t&&!!t.\u0275providers}const Rw="https://g.co/ng/security#xss";class R extends Error{constructor(e,n){super(function Al(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function kp(t,e){throw new R(-201,!1)}function bn(t,e){null==t&&function G(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function bl(t){return Mw(t,Rl)||Mw(t,xw)}function Mw(t,e){return t.hasOwnProperty(e)?t[e]:null}function Sl(t){return t&&(t.hasOwnProperty(Lp)||t.hasOwnProperty($F))?t[Lp]:null}const Rl=_e({\u0275prov:_e}),Lp=_e({\u0275inj:_e}),xw=_e({ngInjectableDef:_e}),$F=_e({ngInjectorDef:_e});var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{});let Bp;function en(t){const e=Bp;return Bp=t,e}function Nw(t,e,n){const r=bl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ie.Optional?null:void 0!==e?e:void kp(at(t))}const Se=globalThis;class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ua={},Gp="__NG_DI_FLAG__",Ml="ngTempTokenPath",qF=/\n/gm,Ow="__source";let No;function ti(t){const e=No;return No=t,e}function QF(t,e=ie.Default){if(void 0===No)throw new R(-203,!1);return null===No?Nw(t,void 0,e):No.get(t,e&ie.Optional?null:void 0,e)}function H(t,e=ie.Default){return(function Pw(){return Bp}()||QF)(z(t),e)}function k(t,e=ie.Default){return H(t,xl(e))}function xl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qp(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){const a=r[s],u=KF(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function ja(t,e){return t[Gp]=e,t.prototype[Gp]=e,t}function KF(t){return t[Gp]}function br(t){return{toString:t}.toString()}var Pl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Pl||{}),Bn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Bn||{});const er={},fe=[],Nl=_e({\u0275cmp:_e}),zp=_e({\u0275dir:_e}),Wp=_e({\u0275pipe:_e}),kw=_e({\u0275mod:_e}),Sr=_e({\u0275fac:_e}),$a=_e({__NG_ELEMENT_ID__:_e}),Lw=_e({__NG_ENV_ID__:_e});function Bw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Qp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];jw(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Uw(t){return 3===t||4===t||6===t}function jw(t){return 64===t.charCodeAt(0)}function Ha(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$w(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $w(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Hw="ng-template";function XF(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==Bw(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Gw(t){return 4===t.type&&t.value!==Hw}function JF(t,e,n){return e===(4!==t.type||n?t.value:Hw)}function ek(t,e,n){let r=4;const i=t.attrs||[],o=function rk(t){for(let e=0;e<t.length;e++)if(Uw(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!JF(t,u,n)||""===u&&1===e.length){if(Un(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!XF(t.attrs,c,n)){if(Un(r))return!1;s=!0}continue}const d=tk(8&r?"class":u,i,Gw(t),n);if(-1===d){if(Un(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Bw(f,c,0)||2&r&&c!==h){if(Un(r))return!1;s=!0}}}}else{if(!s&&!Un(r)&&!Un(u))return!1;if(s&&Un(u))continue;s=!1,r=u|1&r}}return Un(r)||s}function Un(t){return 0==(1&t)}function tk(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function ik(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function qw(t,e,n=!1){for(let r=0;r<e.length;r++)if(ek(t,e[r],n))return!0;return!1}function zw(t,e){return t?":not("+e.trim()+")":e}function sk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Un(s)&&(e+=zw(o,i),i=""),r=s,o=o||!Un(r);n++}return""!==i&&(e+=zw(o,i)),e}function tr(t){return br(()=>{const e=Qw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Bn.Emulated,styles:t.styles||fe,_:null,schemas:t.schemas||null,tView:null,id:""};Kw(n);const r=t.dependencies;return n.directiveDefs=Vl(r,!1),n.pipeDefs=Vl(r,!0),n.id=function pk(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function lk(t){return ue(t)||It(t)}function dk(t){return null!==t}function nr(t){return br(()=>({type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ww(t,e){if(null==t)return er;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function W(t){return br(()=>{const e=Qw(t);return Kw(e),e})}function ue(t){return t[Nl]||null}function It(t){return t[zp]||null}function $t(t){return t[Wp]||null}function gn(t,e){const n=t[kw]||null;if(!n&&!0===e)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return n}function Qw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||er,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ww(t.inputs,e),outputs:Ww(t.outputs)}}function Kw(t){t.features?.forEach(e=>e(t))}function Vl(t,e){if(!t)return null;const n=e?$t:lk;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(dk)}const Ge=0,V=1,te=2,Le=3,jn=4,Ga=5,Pt=6,Oo=7,Ke=8,ni=9,Fo=10,Z=11,qa=12,Yw=13,ko=14,Ye=15,za=16,Lo=17,rr=18,Wa=19,Zw=20,ri=21,Rr=22,Qa=23,Ka=24,oe=25,Kp=1,Xw=2,ir=7,Bo=9,wt=11;function nn(t){return Array.isArray(t)&&"object"==typeof t[Kp]}function Ht(t){return Array.isArray(t)&&!0===t[Kp]}function Yp(t){return 0!=(4&t.flags)}function ji(t){return t.componentOffset>-1}function Fl(t){return 1==(1&t.flags)}function $n(t){return!!t.template}function Zp(t){return 0!=(512&t[te])}function $i(t,e){return t.hasOwnProperty(Sr)?t[Sr]:null}let Dt=null,kl=!1;function Sn(t){const e=Dt;return Dt=t,e}const tD={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function rD(t){if(!Za(t)||t.dirty){if(!t.producerMustRecompute(t)&&!sD(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function oD(t){t.dirty=!0,function iD(t){if(void 0===t.liveConsumerNode)return;const e=kl;kl=!0;try{for(const n of t.liveConsumerNode)n.dirty||oD(n)}finally{kl=e}}(t),t.consumerMarkedDirty?.(t)}function Jp(t){return t&&(t.nextProducerIndex=0),Sn(t)}function eg(t,e){if(Sn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Za(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ll(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sD(t){Uo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rD(n),r!==n.version))return!0}return!1}function aD(t){if(Uo(t),Za(t))for(let e=0;e<t.producerNode.length;e++)Ll(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ll(t,e){if(function cD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Uo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Ll(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Uo(i),i.producerIndexOfThis[r]=e}}function Za(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Uo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let lD=null;const pD=()=>{},bk=(()=>({...tD,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:pD}))();class Sk{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Rn(){return gD}function gD(t){return t.type.prototype.ngOnChanges&&(t.setInput=Mk),Rk}function Rk(){const t=_D(this),e=t?.current;if(e){const n=t.previous;if(n===er)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Mk(t,e,n,r){const i=this.declaredInputs[n],o=_D(t)||function xk(t,e){return t[mD]=e}(t,{previous:er,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new Sk(u&&u.currentValue,e,a===er),t[r]=e}Rn.ngInherit=!0;const mD="__ngSimpleChanges__";function _D(t){return t[mD]||null}const or=function(t,e,n){};function Re(t){for(;Array.isArray(t);)t=t[Ge];return t}function Bl(t,e){return Re(e[t])}function rn(t,e){return Re(e[t.index])}function ED(t,e){return t.data[e]}function mn(t,e){const n=e[t];return nn(n)?n:n[Ge]}function oi(t,e){return null==e?null:t[e]}function ID(t){t[Lo]=0}function kk(t){1024&t[te]||(t[te]|=1024,DD(t,1))}function wD(t){1024&t[te]&&(t[te]&=-1025,DD(t,-1))}function DD(t,e){let n=t[Le];if(null===n)return;n[Ga]+=e;let r=n;for(n=n[Le];null!==n&&(1===e&&1===r[Ga]||-1===e&&0===r[Ga]);)n[Ga]+=e,r=n,n=n[Le]}const q={lFrame:VD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function AD(){return q.bindingsEnabled}function D(){return q.lFrame.lView}function ce(){return q.lFrame.tView}function sr(t){return q.lFrame.contextLView=t,t[Ke]}function ar(t){return q.lFrame.contextLView=null,t}function Ct(){let t=bD();for(;null!==t&&64===t.type;)t=t.parent;return t}function bD(){return q.lFrame.currentTNode}function ur(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function og(){return q.lFrame.isParent}function sg(){q.lFrame.isParent=!1}function Ho(){return q.lFrame.bindingIndex++}function Kk(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,ag(e)}function ag(t){q.lFrame.currentDirectiveIndex=t}function xD(){return q.lFrame.currentQueryIndex}function cg(t){q.lFrame.currentQueryIndex=t}function Zk(t){const e=t[V];return 2===e.type?e.declTNode:1===e.type?t[Pt]:null}function PD(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&ie.Host||(i=Zk(o),null===i||(o=o[ko],10&i.type))););if(null===i)return!1;e=i,t=o}const r=q.lFrame=ND();return r.currentTNode=e,r.lView=t,!0}function lg(t){const e=ND(),n=t[V];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ND(){const t=q.lFrame,e=null===t?null:t.child;return null===e?VD(t):e}function VD(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function OD(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const FD=OD;function dg(){const t=OD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qt(){return q.lFrame.selectedIndex}function Hi(t){q.lFrame.selectedIndex=t}function $e(){const t=q.lFrame;return ED(t.tView,t.selectedIndex)}let LD=!0;function Ul(){return LD}function si(t){LD=t}function jl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function $l(t,e,n){BD(t,e,3,n)}function Hl(t,e,n,r){(3&t[te])===n&&BD(t,e,n,r)}function hg(t,e){let n=t[te];(3&n)===e&&(n&=8191,n+=1,t[te]=n)}function BD(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Lo]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Lo]+=65536),(a<o||-1==o)&&(oL(t,n,e,u),t[Lo]=(4294901760&t[Lo])+u+2),u++}function UD(t,e){or(4,t,e);const n=Sn(null);try{e.call(t)}finally{Sn(n),or(5,t,e)}}function oL(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[te]>>13<t[Lo]>>16&&(3&t[te])===e&&(t[te]+=8192,UD(a,o)):UD(a,o)}const Go=-1;class Ja{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function pg(t){return t!==Go}function eu(t){return 32767&t}function tu(t,e){let n=function cL(t){return t>>16}(t),r=e;for(;n>0;)r=r[ko],n--;return r}let gg=!0;function Gl(t){const e=gg;return gg=t,e}const jD=255,$D=5;let lL=0;const cr={};function ql(t,e){const n=HD(t,e);if(-1!==n)return n;const r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,mg(r.data,t),mg(e,null),mg(r.blueprint,null));const i=zl(t,e),o=t.injectorIndex;if(pg(i)){const s=eu(i),a=tu(i,e),u=a[V].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function mg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function HD(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function zl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=YD(i),null===r)return Go;if(n++,i=i[ko],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Go}function _g(t,e,n){!function dL(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($a)&&(r=n[$a]),null==r&&(r=n[$a]=lL++);const i=r&jD;e.data[t+(i>>$D)]|=1<<i}(t,e,n)}function GD(t,e,n){if(n&ie.Optional||void 0!==t)return t;kp()}function qD(t,e,n,r){if(n&ie.Optional&&void 0===r&&(r=null),!(n&(ie.Self|ie.Host))){const i=t[ni],o=en(void 0);try{return i?i.get(e,r,n&ie.Optional):Nw(e,r,n&ie.Optional)}finally{en(o)}}return GD(r,0,n)}function zD(t,e,n,r=ie.Default,i){if(null!==t){if(2048&e[te]&&!(r&ie.Self)){const s=function _L(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[te]&&!(512&s[te]);){const a=WD(o,s,n,r|ie.Self,cr);if(a!==cr)return a;let u=o.parent;if(!u){const c=s[Zw];if(c){const l=c.get(n,cr,r);if(l!==cr)return l}u=YD(s),s=s[ko]}o=u}return i}(t,e,n,r,cr);if(s!==cr)return s}const o=WD(t,e,n,r,cr);if(o!==cr)return o}return qD(e,n,r,i)}function WD(t,e,n,r,i){const o=function pL(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($a)?t[$a]:void 0;return"number"==typeof e?e>=0?e&jD:mL:e}(n);if("function"==typeof o){if(!PD(e,t,r))return r&ie.Host?GD(i,0,r):qD(e,n,r,i);try{let s;if(s=o(r),null!=s||r&ie.Optional)return s;kp()}finally{FD()}}else if("number"==typeof o){let s=null,a=HD(t,e),u=Go,c=r&ie.Host?e[Ye][Pt]:null;for((-1===a||r&ie.SkipSelf)&&(u=-1===a?zl(t,e):e[a+8],u!==Go&&KD(r,!1)?(s=e[V],a=eu(u),e=tu(u,e)):a=-1);-1!==a;){const l=e[V];if(QD(o,a,l.data)){const d=fL(a,e,n,s,r,c);if(d!==cr)return d}u=e[a+8],u!==Go&&KD(r,e[V].data[a+8]===c)&&QD(o,a,e)?(s=l,a=eu(u),e=tu(u,e)):a=-1}}return i}function fL(t,e,n,r,i,o){const s=e[V],a=s.data[t+8],l=Wl(a,s,n,null==r?ji(a)&&gg:r!=s&&0!=(3&a.type),i&ie.Host&&o===a);return null!==l?Gi(e,s,l,a):cr}function Wl(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&$n(f)&&f.type===n)return u}return null}function Gi(t,e,n,r){let i=t[n];const o=e.data;if(function sL(t){return t instanceof Ja}(i)){const s=i;s.resolving&&function OF(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new R(-200,`Circular dependency in DI detected for ${t}${n}`)}(function me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(o[n]));const a=Gl(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?en(s.injectImpl):null;PD(t,r,ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function iL(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=gD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&en(c),Gl(a),s.resolving=!1,FD()}}return i}function QD(t,e,n){return!!(n[e+(t>>$D)]&1<<t)}function KD(t,e){return!(t&ie.Self||t&ie.Host&&e)}class zt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return zD(this._tNode,this._lView,e,xl(r),n)}}function mL(){return new zt(Ct(),D())}function Tt(t){return br(()=>{const e=t.prototype.constructor,n=e[Sr]||yg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Sr]||yg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yg(t){return Op(t)?()=>{const e=yg(z(t));return e&&e()}:$i(t)}function YD(t){const e=t[V],n=e.type;return 2===n?e.declTNode:1===n?t[Pt]:null}const zo="__parameters__";function Qo(t,e,n){return br(()=>{const r=function vg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(zo)?u[zo]:Object.defineProperty(u,zo,{value:[]})[zo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Yo(t,e){t.forEach(n=>Array.isArray(n)?Yo(n,e):e(n))}function XD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _n(t,e,n){let r=Zo(t,e);return r>=0?t[1|r]=n:(r=~r,function CL(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Eg(t,e){const n=Zo(t,e);if(n>=0)return t[1|n]}function Zo(t,e){return function JD(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Zl=ja(Qo("Optional"),8),Xl=ja(Qo("SkipSelf"),4);function rd(t){return 128==(128&t.flags)}var ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ai||{});const qL=/^>|^->|<!--|-->|--!>|<!-$/g,zL=/(<|>)/g,WL="\u200b$1\u200b";const Tg=new Map;let QL=0;const bg="__ngContext__";function Nt(t,e){nn(e)?(t[bg]=e[Wa],function YL(t){Tg.set(t[Wa],t)}(e)):t[bg]=e}let Sg;function Rg(t,e){return Sg(t,e)}function au(t){const e=t[Le];return Ht(e)?e[Le]:e}function vC(t){return IC(t[qa])}function EC(t){return IC(t[jn])}function IC(t){for(;null!==t&&!Ht(t);)t=t[jn];return t}function es(t,e,n,r,i){if(null!=r){let o,s=!1;Ht(r)?o=r:nn(r)&&(s=!0,r=r[Ge]);const a=Re(r);0===t&&null!==n?null==i?TC(e,n,a):qi(e,n,a,i||null,!0):1===t&&null!==n?qi(e,n,a,i||null,!0):2===t?function ld(t,e,n){const r=ud(t,e);r&&function g2(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function y2(t,e,n,r,i){const o=n[ir];o!==Re(n)&&es(e,t,r,o,i);for(let a=wt;a<n.length;a++){const u=n[a];cu(u[V],u,t,e,r,o)}}(e,t,o,n,i)}}function Mg(t,e){return t.createComment(function dC(t){return t.replace(qL,e=>e.replace(zL,WL))}(e))}function sd(t,e,n){return t.createElement(e,n)}function DC(t,e){const n=t[Bo],r=n.indexOf(e);wD(e),n.splice(r,1)}function ad(t,e){if(t.length<=wt)return;const n=wt+e,r=t[n];if(r){const i=r[za];null!==i&&i!==t&&DC(i,r),e>0&&(t[n-1][jn]=r[jn]);const o=Kl(t,wt+e);!function a2(t,e){cu(t,e,e[Z],2,null,null),e[Ge]=null,e[Pt]=null}(r[V],r);const s=o[rr];null!==s&&s.detachView(o[V]),r[Le]=null,r[jn]=null,r[te]&=-129}return r}function xg(t,e){if(!(256&e[te])){const n=e[Z];e[Qa]&&aD(e[Qa]),e[Ka]&&aD(e[Ka]),n.destroyNode&&cu(t,e,n,3,null,null),function l2(t){let e=t[qa];if(!e)return Pg(t[V],t);for(;e;){let n=null;if(nn(e))n=e[qa];else{const r=e[wt];r&&(n=r)}if(!n){for(;e&&!e[jn]&&e!==t;)nn(e)&&Pg(e[V],e),e=e[Le];null===e&&(e=t),nn(e)&&Pg(e[V],e),n=e&&e[jn]}e=n}}(e)}}function Pg(t,e){if(!(256&e[te])){e[te]&=-129,e[te]|=256,function p2(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ja)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];or(4,a,u);try{u.call(a)}finally{or(5,a,u)}}else{or(4,i,o);try{o.call(i)}finally{or(5,i,o)}}}}}(t,e),function f2(t,e){const n=t.cleanup,r=e[Oo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Oo]=null);const i=e[ri];if(null!==i){e[ri]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[V].type&&e[Z].destroy();const n=e[za];if(null!==n&&Ht(e[Le])){n!==e[Le]&&DC(n,e);const r=e[rr];null!==r&&r.detachView(t)}!function ZL(t){Tg.delete(t[Wa])}(e)}}function Ng(t,e,n){return function CC(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ge];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Bn.None||o===Bn.Emulated)return null}return rn(r,n)}}(t,e.parent,n)}function qi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function TC(t,e,n){t.appendChild(e,n)}function AC(t,e,n,r,i){null!==r?qi(t,e,n,r,i):TC(t,e,n)}function ud(t,e){return t.parentNode(e)}let Vg,Lg,hd,RC=function SC(t,e,n){return 40&t.type?rn(t,n):null};function cd(t,e,n,r){const i=Ng(t,r,e),o=e[Z],a=function bC(t,e,n){return RC(t,e,n)}(r.parent||e[Pt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)AC(o,i,n[u],a,!1);else AC(o,i,n,a,!1);void 0!==Vg&&Vg(o,r,e,n,i)}function uu(t,e){if(null!==e){const n=e.type;if(3&n)return rn(e,t);if(4&n)return Og(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return uu(t,r);{const i=t[e.index];return Ht(i)?Og(-1,i):Re(i)}}if(32&n)return Rg(e,t)()||Re(t[e.index]);{const r=xC(t,e);return null!==r?Array.isArray(r)?r[0]:uu(au(t[Ye]),r):uu(t,e.next)}}return null}function xC(t,e){return null!==e?t[Ye][Pt].projection[e.projection]:null}function Og(t,e){const n=wt+t+1;if(n<e.length){const r=e[n],i=r[V].firstChild;if(null!==i)return uu(r,i)}return e[ir]}function Fg(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Nt(Re(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Fg(t,e,n.child,r,i,o,!1),es(e,t,i,a,o);else if(32&u){const c=Rg(n,r);let l;for(;l=c();)es(e,t,i,l,o);es(e,t,i,a,o)}else 16&u?NC(t,e,r,n,i,o):es(e,t,i,a,o);n=s?n.projectionNext:n.next}}function cu(t,e,n,r,i,o){Fg(n,r,t.firstChild,e,i,o,!1)}function NC(t,e,n,r,i,o){const s=n[Ye],u=s[Pt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)es(e,t,i,u[c],o);else{let c=u;const l=s[Le];rd(r)&&(c.flags|=128),Fg(t,e,c,l,i,o,!0)}}function VC(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function OC(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Qp(t,e,r),null!==i&&VC(t,e,i),null!==o&&function E2(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function LC(t){return function Bg(){if(void 0===hd&&(hd=null,Se.trustedTypes))try{hd=Se.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hd}()?.createScriptURL(t)||t}class BC{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rw})`}}function ui(t){return t instanceof BC?t.changingThisBreaksApplicationSecurity:t}function lu(t,e){const n=function M2(t){return t instanceof BC&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Rw})`)}return n===e}const V2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var rs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rs||{});function zC(t){const e=hu();return e?e.sanitize(rs.URL,t)||"":lu(t,"URL")?ui(t):function Ug(t){return(t=String(t)).match(V2)?t:"unsafe:"+t}(Y(t))}function WC(t){const e=hu();if(e)return LC(e.sanitize(rs.RESOURCE_URL,t)||"");if(lu(t,"ResourceURL"))return LC(ui(t));throw new R(904,!1)}function hu(){const t=D();return t&&t[Fo].sanitizer}const fu=new B("ENVIRONMENT_INITIALIZER"),KC=new B("INJECTOR",-1),YC=new B("INJECTOR_DEF_TYPES");class Gg{get(e,n=Ua){if(n===Ua){const r=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw r.name="NullInjectorError",r}return n}}function W2(...t){return{\u0275providers:XC(0,t),\u0275fromNgModule:!0}}function XC(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Yo(e,s=>{const a=s;pd(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&JC(i,o),n}function JC(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];qg(i,o=>{e(o,r)})}}function pd(t,e,n,r){if(!(t=z(t)))return!1;let i=null,o=Sl(t);const s=!o&&ue(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Sl(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)pd(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Yo(o.imports,l=>{pd(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&JC(c,e)}if(!a){const c=$i(i)||(()=>new i);e({provide:i,useFactory:c,deps:fe},i),e({provide:YC,useValue:i,multi:!0},i),e({provide:fu,useValue:()=>H(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;qg(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function qg(t,e){for(let n of t)Fp(n)&&(n=n.\u0275providers),Array.isArray(n)?qg(n,e):e(n)}const Q2=_e({provide:String,useValue:_e});function zg(t){return null!==t&&"object"==typeof t&&Q2 in t}function zi(t){return"function"==typeof t}const Wg=new B("Set Injector scope."),gd={},Y2={};let Qg;function md(){return void 0===Qg&&(Qg=new Gg),Qg}class xn{}class is extends xn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yg(e,s=>this.processProvider(s)),this.records.set(KC,os(void 0,this)),i.has("environment")&&this.records.set(xn,os(void 0,this));const o=this.records.get(Wg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(YC.multi,fe,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ti(this),r=en(void 0);try{return e()}finally{ti(n),en(r)}}get(e,n=Ua,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Lw))return e[Lw](this);r=xl(r);const o=ti(this),s=en(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function tB(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&bl(e);u=c&&this.injectableDefInScope(c)?os(Kg(e),gd):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ie.Self?md():this.parent).get(e,n=r&ie.Optional&&n===Ua?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ml]=a[Ml]||[]).unshift(at(e)),o)throw a;return function YF(t,e,n,r){const i=t[Ml];throw e[Ow]&&i.unshift(e[Ow]),t.message=function ZF(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=at(e);if(Array.isArray(e))i=e.map(at).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):at(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(qF,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ml]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{en(s),ti(o)}}resolveInjectorInitializers(){const e=ti(this),n=en(void 0);try{const i=this.get(fu.multi,fe,ie.Self);for(const o of i)o()}finally{ti(e),en(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(at(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){let n=zi(e=z(e))?e:z(e&&e.provide);const r=function X2(t){return zg(t)?os(void 0,t.useValue):os(n0(t),gd)}(e);if(zi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=os(void 0,gd,!0),i.factory=()=>qp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===gd&&(n.value=Y2,n.value=n.factory()),"object"==typeof n.value&&n.value&&function eB(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Kg(t){const e=bl(t),n=null!==e?e.factory:$i(t);if(null!==n)return n;if(t instanceof B)throw new R(204,!1);if(t instanceof Function)return function Z2(t){const e=t.length;if(e>0)throw function iu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new R(204,!1);const n=function jF(t){return t&&(t[Rl]||t[xw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new R(204,!1)}function n0(t,e,n){let r;if(zi(t)){const i=z(t);return $i(i)||Kg(i)}if(zg(t))r=()=>z(t.useValue);else if(function t0(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...qp(t.deps||[]));else if(function e0(t){return!(!t||!t.useExisting)}(t))r=()=>H(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(!function J2(t){return!!t.deps}(t))return $i(i)||Kg(i);r=()=>new i(...qp(t.deps))}return r}function os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Yg(t,e){for(const n of t)Array.isArray(n)?Yg(n,e):n&&Fp(n)?Yg(n.\u0275providers,e):e(n)}const _d=new B("AppId",{providedIn:"root",factory:()=>nB}),nB="ng",r0=new B("Platform Initializer"),ss=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),o0=new B("CSP nonce",{providedIn:"root",factory:()=>function ns(){if(void 0!==Lg)return Lg;if(typeof document<"u")return document;throw new R(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let s0=(t,e,n)=>null;function im(t,e,n=!1){return s0(t,e,n)}class hB{}class c0{}class pB{resolveComponentFactory(e){throw function fB(t){const e=Error(`No component factory found for ${at(t)}.`);return e.ngComponent=t,e}(e)}}let Dd=(()=>{class t{static#e=this.NULL=new pB}return t})();function gB(){return cs(Ct(),D())}function cs(t,e){return new yn(rn(t,e))}let yn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=gB}return t})();function mB(t){return t instanceof yn?t.nativeElement:t}class d0{}let Nr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function _B(){const t=D(),n=mn(Ct().index,t);return(nn(n)?n:t)[Z]}()}return t})(),yB=(()=>{class t{static#e=this.\u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();class mu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const vB=new mu("16.2.12"),am={};function g0(t,e=null,n=null,r){const i=m0(t,e,n,r);return i.resolveInjectorInitializers(),i}function m0(t,e=null,n=null,r,i=new Set){const o=[n||fe,W2(t)];return r=r||("object"==typeof t?void 0:at(t)),new is(o,e||md(),r||null,i)}let vn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ua;static#t=this.NULL=new Gg;static create(n,r){if(Array.isArray(n))return g0({name:""},r,n,"");{const i=n.name??"";return g0({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=$({token:t,providedIn:"any",factory:()=>H(KC)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function cm(t){return t.ngOriginalError}class Vr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&cm(e);for(;n&&cm(n);)n=cm(n);return n||null}}function dm(t){return e=>{setTimeout(t,void 0,e)}}const qe=class AB extends kn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=dm(o),i&&(i=dm(i)),s&&(s=dm(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof hn&&e.add(a),a}};function y0(...t){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function bB(){const t="function"==typeof Se.requestAnimationFrame;let e=Se[t?"requestAnimationFrame":"setTimeout"],n=Se[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function MB(t){const e=()=>{!function RB(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Se,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fm(t),t.isCheckStableRunning=!0,hm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function PB(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return v0(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),E0(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return v0(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),E0(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,fm(t),hm(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new R(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,SB,y0,y0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const SB={};function hm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function v0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function E0(t){t._nesting--,hm(t)}class xB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const I0=new B("",{providedIn:"root",factory:w0});function w0(){const t=k(Me);let e=!0;return function xF(...t){const e=Ba(t),n=function CF(t,e){return"number"==typeof Pp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?fn(r[0]):Po(n)(ht(r,e)):Xn}(new nt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new nt(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Me.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Sw()))}function Or(t){return t instanceof Function?t():t}let pm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();function _u(t){for(;t;){t[te]|=64;const e=au(t);if(Zp(t)&&!e)return t;t=e}return null}const b0=new B("",{providedIn:"root",factory:()=>!1});let Td=null;function x0(t,e){return t[e]??V0()}function P0(t,e){const n=V0();n.producerNode?.length&&(t[e]=Td,n.lView=t,Td=N0())}const $B={...tD,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_u(t.lView)},lView:null};function N0(){return Object.create($B)}function V0(){return Td??=N0(),Td}const ee={};function ft(t){O0(ce(),D(),qt()+t,!1)}function O0(t,e,n,r){if(!r)if(3==(3&e[te])){const o=t.preOrderCheckHooks;null!==o&&$l(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Hl(e,o,0,n)}Hi(n)}function b(t,e=ie.Default){const n=D();return null===n?H(t,e):zD(Ct(),n,z(t),e)}function Ad(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[Ge]=i,d[te]=140|r,(null!==c||t&&2048&t[te])&&(d[te]|=2048),ID(d),d[Le]=d[ko]=t,d[Ke]=n,d[Fo]=s||t&&t[Fo],d[Z]=a||t&&t[Z],d[ni]=u||t&&t[ni]||null,d[Pt]=o,d[Wa]=function KL(){return QL++}(),d[Rr]=l,d[Zw]=c,d[Ye]=2==e.type?t[Ye]:d,d}function hs(t,e,n,r,i){let o=t.data[e];if(null===o)o=function gm(t,e,n,r,i){const o=bD(),s=og(),u=t.data[e]=function YB(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function $o(){return null!==q.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function Qk(){return q.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Xa(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ur(o,!0),o}function yu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function k0(t,e,n,r,i){const o=x0(e,Qa),s=qt(),a=2&r;try{Hi(-1),a&&e.length>oe&&O0(t,e,oe,!1),or(a?2:0,i);const c=a?o:null,l=Jp(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{eg(c,l)}}finally{a&&null===e[Qa]&&P0(e,Qa),Hi(s),or(a?3:1,i)}}function mm(t,e,n){if(Yp(e)){const r=Sn(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Sn(r)}}}function _m(t,e,n){AD()&&(function rU(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;ji(n)&&function lU(t,e,n){const r=rn(e,t),i=L0(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=bd(t,Ad(t,i,null,s,r,e,null,t[Fo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ql(n,e),Nt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=Gi(e,t,a,n);Nt(c,e),null!==s&&dU(0,a-i,c,u,0,s),$n(u)&&(mn(n.index,e)[Ke]=Gi(e,t,a,n))}}(t,e,n,rn(n,e)),64==(64&n.flags)&&H0(t,e,n))}function ym(t,e,n=rn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function L0(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=vm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vm(t,e,n,r,i,o,s,a,u,c,l){const d=oe+r,h=d+i,f=function GB(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ee);return n}(d,h),p="function"==typeof c?c():c;return f[V]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let B0=t=>null;function U0(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?j0(n,e,i,o):r.hasOwnProperty(i)&&j0(n,e,r[i],o)}return n}function j0(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Em(t,e,n,r){if(AD()){const i=null===r?null:{"":-1},o=function oU(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(qw(e,s.selectors,!1))if(r||(r=[]),$n(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Im(t,e,a.length)}else r.unshift(s),Im(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&$0(t,e,n,s,i,a),i&&function sU(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new R(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Ha(n.mergedAttrs,n.attrs)}function $0(t,e,n,r,i,o){for(let c=0;c<r.length;c++)_g(ql(n,e),t,r[c].type);!function uU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=yu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Ha(n.mergedAttrs,l.hostAttrs),cU(t,n,e,u,l),aU(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function ZB(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=U0(d.inputs,l,u,h?h.inputs:null),c=U0(d.outputs,l,c,p);const g=null===u||null===s||Gw(e)?null:hU(u,l,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function H0(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Yk(){return q.lFrame.currentDirectiveIndex}();try{Hi(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];ag(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&iU(u,c)}}finally{Hi(-1),ag(s)}}function iU(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Im(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function aU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function cU(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=$i(i.type)),s=new Ja(o,$n(i),b);t.blueprint[r]=s,n[r]=s,function tU(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function nU(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,yu(t,n,i.hostVars,ee),i)}function lr(t,e,n,r,i,o){const s=rn(t,e);!function wm(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Y(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Z],s,o,t.value,n,r,i)}function dU(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)G0(r,n,s[a++],s[a++],s[a++])}function G0(t,e,n,r,i){const o=Sn(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Sn(o)}}function hU(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function q0(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function z0(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];cg(n[r]),s.contentQueries(2,e[o],o)}}}function bd(t,e){return t[qa]?t[Yw][jn]=e:t[qa]=e,t[Yw]=e,e}function Dm(t,e,n){cg(0);const r=Sn(null);try{e(t,n)}finally{Sn(r)}}function W0(t){return t[Oo]||(t[Oo]=[])}function Q0(t){return t.cleanup||(t.cleanup=[])}function Y0(t,e){const n=t[ni],r=n?n.get(Vr,null):null;r&&r.handleError(e)}function Cm(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];G0(t.data[s],e[s],r,a,i)}}function fU(t,e){const n=mn(e,t),r=n[V];!function pU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ge];null!==i&&null===n[Rr]&&(n[Rr]=im(i,n[ni])),Tm(r,n,n[Ke])}function Tm(t,e,n){lg(e);try{const r=t.viewQuery;null!==r&&Dm(1,r,n);const i=t.template;null!==i&&k0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&z0(t,e),t.staticViewQueries&&Dm(2,t.viewQuery,n);const o=t.components;null!==o&&function gU(t,e){for(let n=0;n<e.length;n++)fU(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,dg()}}let Z0=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function Ak(t,e,n){const r=Object.create(bk);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>oD(r),run:()=>{if(r.dirty=!1,r.hasRun&&!sD(r))return;r.hasRun=!0;const s=Jp(r);try{r.cleanupFn(),r.cleanupFn=pD,r.fn(i)}finally{eg(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Vp(i,a):2==o&&(r=Vp(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function vu(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Re(o)),Ht(o)&&X0(o,r);const s=n.type;if(8&s)vu(t,e,n.child,r);else if(32&s){const a=Rg(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=xC(e,n);if(Array.isArray(a))r.push(...a);else{const u=au(e[Ye]);vu(u[V],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function X0(t,e){for(let n=wt;n<t.length;n++){const r=t[n],i=r[V].firstChild;null!==i&&vu(r[V],r,i,e)}t[ir]!==t[Ge]&&e.push(t[ir])}function Rd(t,e,n,r=!0){const i=e[Fo],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{J0(t,e,t.template,n)}catch(u){throw r&&Y0(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function J0(t,e,n,r){const i=e[te];if(256!=(256&i)){e[Fo].effectManager?.flush(),lg(e);try{ID(e),function RD(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&k0(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&$l(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Hl(e,c,0,null),hg(e,0)}if(function yU(t){for(let e=vC(t);null!==e;e=EC(e)){if(!e[Xw])continue;const n=e[Bo];for(let r=0;r<n.length;r++){kk(n[r])}}}(e),eT(e,2),null!==t.contentQueries&&z0(t,e),s){const c=t.contentCheckHooks;null!==c&&$l(e,c)}else{const c=t.contentHooks;null!==c&&Hl(e,c,1),hg(e,1)}!function HB(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=x0(e,Ka);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Hi(~o);else{const s=o,a=n[++i],u=n[++i];Kk(a,s),r.dirty=!1;const c=Jp(r);try{u(2,e[s])}finally{eg(r,c)}}}}finally{null===e[Ka]&&P0(e,Ka),Hi(-1)}}(t,e);const a=t.components;null!==a&&nT(e,a,0);const u=t.viewQuery;if(null!==u&&Dm(2,u,r),s){const c=t.viewCheckHooks;null!==c&&$l(e,c)}else{const c=t.viewHooks;null!==c&&Hl(e,c,2),hg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[te]&=-73,wD(e)}finally{dg()}}}function eT(t,e){for(let n=vC(t);null!==n;n=EC(n))for(let r=wt;r<n.length;r++)tT(n[r],e)}function vU(t,e,n){tT(mn(e,t),n)}function tT(t,e){if(!function Ok(t){return 128==(128&t[te])}(t))return;const n=t[V],r=t[te];if(80&r&&0===e||1024&r||2===e)J0(n,t,n.template,t[Ke]);else if(t[Ga]>0){eT(t,1);const i=n.components;null!==i&&nT(t,i,1)}}function nT(t,e,n){for(let r=0;r<e.length;r++)vU(t,e[r],n)}class Eu{get rootNodes(){const e=this._lView,n=e[V];return vu(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(e){this._lView[Ke]=e}get destroyed(){return 256==(256&this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Le];if(Ht(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ad(e,r),Kl(n,r))}this._attachedToViewContainer=!1}xg(this._lView[V],this._lView)}onDestroy(e){!function CD(t,e){if(256==(256&t[te]))throw new R(911,!1);null===t[ri]&&(t[ri]=[]),t[ri].push(e)}(this._lView,e)}markForCheck(){_u(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){this._lView[te]|=128}detectChanges(){Rd(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function c2(t,e){cu(t,e,e[Z],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e}}class EU extends Eu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Rd(e[V],e,e[Ke],!1)}checkNoChanges(){}get context(){return null}}class rT extends Dd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ue(e);return new Iu(n,this.ngModule)}}function iT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class wU{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xl(r);const i=this.injector.get(e,am,r);return i!==am||n===am?i:this.parentInjector.get(e,n,r)}}class Iu extends c0{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=iT(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return iT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function ak(t){return t.map(sk).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof xn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new wU(e,o):e,a=s.get(d0,null);if(null===a)throw new R(407,!1);const d={rendererFactory:a,sanitizer:s.get(yB,null),effectManager:s.get(Z0,null),afterRenderEventManager:s.get(pm,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function qB(t,e,n,r){const o=r.get(b0,!1)||n===Bn.ShadowDom,s=t.selectRootElement(e,o);return function zB(t){B0(t)}(s),s}(h,r,this.componentDef.encapsulation,s):sd(h,f,function IU(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=im(p,s,!0));const C=vm(0,null,null,1,0,null,null,null,null,null,null),M=Ad(null,C,null,v,null,null,d,h,s,null,_);let L,J;lg(M);try{const Ce=this.componentDef;let xt,El=null;Ce.findHostDirectiveDefs?(xt=[],El=new Map,Ce.findHostDirectiveDefs(Ce,xt,El),xt.push(Ce)):xt=[Ce];const Ip=function CU(t,e){const n=t[V],r=oe;return t[r]=e,hs(n,r,2,"#host",null)}(M,p),CZ=function TU(t,e,n,r,i,o,s){const a=i[V];!function AU(t,e,n,r){for(const i of t)e.mergedAttrs=Ha(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Sd(e,e.mergedAttrs,!0),null!==n&&OC(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=im(e,i[ni]));const c=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Ad(i,L0(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&Im(a,t,r.length-1),bd(i,d),i[t.index]=d}(Ip,p,Ce,xt,M,d,h);J=ED(C,oe),p&&function SU(t,e,n,r){if(r)Qp(t,n,["ng-version",vB.full]);else{const{attrs:i,classes:o}=function uk(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Un(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Qp(t,n,i),o&&o.length>0&&VC(t,n,o.join(" "))}}(h,Ce,p,r),void 0!==n&&function RU(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(J,this.ngContentSelectors,n),L=function bU(t,e,n,r,i,o){const s=Ct(),a=i[V],u=rn(s,i);$0(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Nt(Gi(i,a,s.directiveStart+l,s),i);H0(a,i,s),u&&Nt(u,i);const c=Gi(i,a,s.directiveStart+s.componentOffset,s);if(t[Ke]=i[Ke]=c,null!==o)for(const l of o)l(c,e);return mm(a,s,t),c}(CZ,Ce,xt,El,M,[MU]),Tm(C,M,null)}finally{dg()}return new DU(this.componentType,L,cs(J,M),M,J)}}class DU extends hB{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new EU(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Cm(o[V],o,i,e,n),this.previousInputValues.set(e,n),_u(mn(this._tNode.index,o))}}get injector(){return new zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function MU(){const t=Ct();jl(D()[V],t)}function ye(t){let e=function oT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if($n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Md(t.inputs),s.inputTransforms=Md(t.inputTransforms),s.declaredInputs=Md(t.declaredInputs),s.outputs=Md(t.outputs);const a=i.hostBindings;a&&VU(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&PU(t,u),c&&NU(t,c),Tl(t.inputs,i.inputs),Tl(t.declaredInputs,i.declaredInputs),Tl(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Tl(s.inputTransforms,i.inputTransforms)),$n(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===ye&&(n=!1)}}e=Object.getPrototypeOf(e)}!function xU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ha(i.hostAttrs,n=Ha(n,i.hostAttrs))}}(r)}function Md(t){return t===er?{}:t===fe?[]:t}function PU(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function NU(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function VU(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function cT(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Vt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function hr(t,e,n,r){const i=D();return Vt(i,Ho(),e)&&(ce(),lr($e(),i,t,e,n,r)),hr}function Qi(t,e,n,r,i,o,s,a){const u=D(),c=ce(),l=t+oe,d=c.firstCreatePass?function oj(t,e,n,r,i,o,s,a,u){const c=e.consts,l=hs(e,t,4,s||null,oi(c,a));Em(e,n,l,oi(c,u)),jl(e,l);const d=l.tView=vm(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];ur(d,!1);const h=wT(c,u,d,t);Ul()&&cd(c,u,h,d),Nt(h,u),bd(u,u[l]=q0(h,u,h,d)),Fl(d)&&_m(c,u,d),null!=s&&ym(u,d,a)}let wT=function DT(t,e,n,r){return si(!0),e[Z].createComment("")};function pt(t,e,n){const r=D();return Vt(r,Ho(),e)&&function En(t,e,n,r,i,o,s,a){const u=rn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Cm(t,n,l,r,i),ji(e)&&function JB(t,e){const n=mn(e,t);16&n[te]||(n[te]|=64)}(n,e.index)):3&e.type&&(r=function XB(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(ce(),$e(),r,t,e,r[Z],n,!1),pt}function Pm(t,e,n,r,i){const s=i?"class":"style";Cm(t,n,e.inputs[s],s,r)}function I(t,e,n,r){const i=D(),o=ce(),s=oe+t,a=i[Z],u=o.firstCreatePass?function lj(t,e,n,r,i,o){const s=e.consts,u=hs(e,t,2,r,oi(s,i));return Em(e,n,u,oi(s,o)),null!==u.attrs&&Sd(u,u.attrs,!1),null!==u.mergedAttrs&&Sd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=CT(o,i,u,a,e,t);i[s]=c;const l=Fl(u);return ur(u,!0),OC(a,c,u),32!=(32&u.flags)&&Ul()&&cd(o,i,c,u),0===function Bk(){return q.lFrame.elementDepthCount}()&&Nt(c,i),function Uk(){q.lFrame.elementDepthCount++}(),l&&(_m(o,i,u),mm(o,u,i)),null!==r&&ym(i,u),I}function w(){let t=Ct();og()?sg():(t=t.parent,ur(t,!1));const e=t;(function $k(t){return q.skipHydrationRootTNode===t})(e)&&function zk(){q.skipHydrationRootTNode=null}(),function jk(){q.lFrame.elementDepthCount--}();const n=ce();return n.firstCreatePass&&(jl(n,t),Yp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function aL(t){return 0!=(8&t.flags)}(e)&&Pm(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uL(t){return 0!=(16&t.flags)}(e)&&Pm(n,e,D(),e.stylesWithoutHost,!1),w}function sn(t,e,n,r){return I(t,e,n,r),w(),sn}let CT=(t,e,n,r,i,o)=>(si(!0),sd(r,i,function kD(){return q.lFrame.currentNamespace}()));function Fd(t,e,n){const r=D(),i=ce(),o=t+oe,s=i.firstCreatePass?function fj(t,e,n,r,i){const o=e.consts,s=oi(o,r),a=hs(e,t,8,"ng-container",s);return null!==s&&Sd(a,s,!0),Em(e,n,a,oi(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];ur(s,!0);const a=AT(i,r,s,t);return r[o]=a,Ul()&&cd(i,r,a,s),Nt(a,r),Fl(s)&&(_m(i,r,s),mm(i,s,r)),null!=n&&ym(r,s),Fd}function kd(){let t=Ct();const e=ce();return og()?sg():(t=t.parent,ur(t,!1)),e.firstCreatePass&&(jl(e,t),Yp(t)&&e.queries.elementEnd(t)),kd}let AT=(t,e,n,r)=>(si(!0),Mg(e[Z],""));function ws(){return D()}function Au(t){return!!t&&"function"==typeof t.then}function bT(t){return!!t&&"function"==typeof t.subscribe}function Oe(t,e,n,r){const i=D(),o=ce(),s=Ct();return function RT(t,e,n,r,i,o,s){const a=Fl(r),c=t.firstCreatePass&&Q0(t),l=e[Ke],d=W0(e);let h=!0;if(3&r.type||s){const g=rn(r,e),m=s?s(g):g,v=d.length,_=s?M=>s(Re(M[r.index])):r.index;let C=null;if(!s&&a&&(C=function mj(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Oo],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1;else{o=xT(r,e,l,o,!1);const M=n.listen(m,i,o);d.push(o,M),c&&c.push(i,_,v,v+1)}}else o=xT(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const L=e[p[m]][p[m+1]].subscribe(o),J=d.length;d.push(o,L),c&&c.push(i,r.index,J,-(J+1))}}}(o,i,i[Z],s,t,e,r),Oe}function MT(t,e,n,r){try{return or(6,e,n),!1!==n(r)}catch(i){return Y0(t,i),!1}finally{or(7,e,n)}}function xT(t,e,n,r,i){return function o(s){if(s===Function)return r;_u(t.componentOffset>-1?mn(t.index,e):e);let u=MT(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=MT(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function an(t=1){return function Xk(t){return(q.lFrame.contextLView=function Jk(t,e){for(;t>0;)e=e[ko],t--;return e}(t,q.lFrame.contextLView))[Ke]}(t)}function Ld(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function Vm(t){return 2|t}function Ki(t){return(131068&t)>>2}function Om(t,e){return-131069&t|e<<2}function Fm(t){return 1|t}function jT(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ci(o):Ki(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];Tj(t[a],e)&&(u=!0,t[a+1]=r?Fm(l):Vm(l)),a=r?ci(l):Ki(l)}u&&(t[n+1]=r?Vm(o):Fm(o))}function Tj(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Zo(t,e)>=0}function Bd(t,e){return function Hn(t,e,n,r){const i=D(),o=ce(),s=function xr(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function YT(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[qt()],s=function KT(t,e){return e>=t.expandoStartIndex}(t,n);(function eA(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function Vj(t,e,n,r){const i=function ug(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bu(n=km(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=km(i,t,e,n,r),null===o){let u=function Oj(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ki(r))return t[ci(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=km(null,t,e,u[1],r),u=bu(u,e.attrs,r),function Fj(t,e,n,r){t[ci(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function kj(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=bu(r,t[o].hostAttrs,n);return bu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function Dj(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ci(s),u=Ki(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Zo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ci(t[a+1]);t[r+1]=Ld(h,a),0!==h&&(t[h+1]=Om(t[h+1],r)),t[a+1]=function Ij(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ld(a,0),0!==a&&(t[a+1]=Om(t[a+1],r)),a=r;else t[r+1]=Ld(u,0),0===a?a=r:t[u+1]=Om(t[u+1],r),u=r;c&&(t[r+1]=Vm(t[r+1])),jT(t,l,r,!0),jT(t,l,r,!1),function Cj(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Zo(o,e)>=0&&(n[r+1]=Fm(n[r+1]))}(e,l,t,r,o),s=Ld(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==ee&&Vt(i,s,e)&&function XT(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function wj(t){return 1==(1&t)}(c)?JT(u,e,n,i,Ki(c),s):void 0;Ud(l)||(Ud(o)||function Ej(t){return 2==(2&t)}(c)&&(o=JT(u,null,n,i,a,s)),function v2(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ai.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ai.Important),t.setStyle(n,r,i,o))}}(r,s,Bl(qt(),n),i,o))}(o,o.data[qt()],i,i[Z],t,i[s+1]=function jj(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=at(ui(t)))),t}(e,n),r,s)}(t,e,null,!0),Bd}function km(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=bu(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_n(t,s,!!n||e[++o]))}return void 0===t?null:t}function JT(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ee&&(h=d?fe:void 0);let f=d?Eg(h,r):l===r?h:void 0;if(c&&!Ud(f)&&(f=Eg(u,r)),Ud(f)&&(a=f,s))return a;const p=t[i+1];i=s?ci(p):Ki(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Eg(u,r))}return a}function Ud(t){return void 0!==t}function S(t,e=""){const n=D(),r=ce(),i=t+oe,o=r.firstCreatePass?hs(r,i,1,e,null):r.data[i],s=tA(r,n,o,e,t);n[i]=s,Ul()&&cd(r,n,s,o),ur(o,!1)}let tA=(t,e,n,r,i)=>(si(!0),function od(t,e){return t.createText(e)}(e[Z],r));function jd(t,e,n){const r=D(),i=function ps(t,e,n,r){return Vt(t,Ho(),n)?e+Y(n)+r:ee}(r,t,e,n);return i!==ee&&function Fr(t,e,n){const r=Bl(e,t);!function wC(t,e,n){t.setValue(e,n)}(t[Z],r,n)}(r,qt(),i),jd}const Ts="en-US";let CA=Ts;function Um(t,e,n,r,i){if(t=z(t),Array.isArray(t))for(let o=0;o<t.length;o++)Um(t[o],e,n,r,i);else{const o=ce(),s=D(),a=Ct();let u=zi(t)?t:z(t.provide);const c=n0(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(zi(t)||!t.multi){const f=new Ja(c,i,b),p=$m(u,e,i?l:l+h,d);-1===p?(_g(ql(a,s),o,u),jm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=$m(u,e,l+h,d),p=$m(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){_g(ql(a,s),o,u);const v=function u4(t,e,n,r,i){const o=new Ja(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,KA(o,i,r&&!n),o}(i?a4:s4,n.length,i,r,c);!i&&m&&(n[p].providerFactory=v),jm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else jm(o,t,f>-1?f:p,KA(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function jm(t,e,n,r){const i=zi(e),o=function K2(t){return!!t.useClass}(e);if(i||o){const u=(o?z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function KA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $m(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function s4(t,e,n,r){return Hm(this.multi,[])}function a4(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Gi(n,n[V],this.providerFactory.index,r);o=a.slice(0,s),Hm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Hm(i,o);return o}function Hm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Be(t,e=[]){return n=>{n.providersResolver=(r,i)=>function o4(t,e,n){const r=ce();if(r.firstCreatePass){const i=$n(t);Um(n,r.data,r.blueprint,i,!0),Um(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Zi{}class YA{}class Gm extends Zi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rT(this);const i=gn(e);this._bootstrapComponents=Or(i.bootstrap),this._r3Injector=m0(e,n,[{provide:Zi,useValue:this},{provide:Dd,useValue:this.componentFactoryResolver},...r],at(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qm extends YA{constructor(e){super(),this.moduleType=e}create(e){return new Gm(this.moduleType,e,[])}}class ZA extends Zi{constructor(e){super(),this.componentFactoryResolver=new rT(this),this.instance=null;const n=new is([...e.providers,{provide:Zi,useValue:this},{provide:Dd,useValue:this.componentFactoryResolver}],e.parent||md(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function zm(t,e,n=null){return new ZA({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let d4=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=XC(0,n.type),i=r.length>0?zm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(H(xn))})}return t})();function XA(t){t.getStandaloneInjector=e=>e.get(d4).getOrCreateStandaloneInjector(t)}function ob(t,e,n){const r=function Gt(){const t=q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=D();return i[r]===ee?function dr(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function wu(t,e){return t[e]}(i,r)}function F4(){return this._results[Symbol.iterator]()}class Qm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new qe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Qm.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=F4)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Mn(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function wL(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function L4(t,e,n,r=!0){const i=e[V];if(function d2(t,e,n,r){const i=wt+r,o=n.length;r>0&&(n[i-1][jn]=e),r<o-wt?(e[jn]=n[i],XD(n,wt+r,e)):(n.push(e),e[jn]=null),e[Le]=n;const s=e[za];null!==s&&n!==s&&function h2(t,e){const n=t[Bo];e[Ye]!==e[Le][Le][Ye]&&(t[Xw]=!0),null===n?t[Bo]=[e]:n.push(e)}(s,e);const a=e[rr];null!==a&&a.insertView(t),e[te]|=128}(i,e,t,n),r){const o=Og(n,t),s=e[Z],a=ud(s,t[ir]);null!==a&&function u2(t,e,n,r,i,o){r[Ge]=i,r[Pt]=e,cu(t,r,n,1,i,o)}(i,t[Pt],s,e,a,o)}}let kr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=j4}return t})();const B4=kr,U4=class extends B4{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function k4(t,e,n,r){const i=e.tView,a=Ad(t,i,n,4096&t[te]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[za]=t[e.index];const c=t[rr];return null!==c&&(a[rr]=c.createEmbeddedView(i)),Tm(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Eu(i)}};function j4(){return zd(Ct(),D())}function zd(t,e){return 4&t.type?new U4(e,t,cs(t,e)):null}let qn=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=W4}return t})();function W4(){return _b(Ct(),D())}const Q4=qn,gb=class extends Q4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cs(this._hostTNode,this._hostLView)}get injector(){return new zt(this._hostTNode,this._hostLView)}get parentInjector(){const e=zl(this._hostTNode,this._hostLView);if(pg(e)){const n=tu(e,this._hostLView),r=eu(e);return new zt(n[V].data[r+8],n)}return new zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=mb(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function ru(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const u=s?e:new Iu(ue(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const m=(s?c:this.parentInjector).get(xn,null);m&&(o=m)}ue(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Fk(t){return Ht(t[Le])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Le],l=new gb(c,c[Pt],c[Le]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return L4(a,i,s,!r),e.attachToViewContainerRef(),XD(Km(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=mb(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ad(this._lContainer,n);r&&(Kl(Km(this._lContainer),n),xg(r[V],r))}detach(e){const n=this._adjustIndex(e,-1),r=ad(this._lContainer,n);return r&&null!=Kl(Km(this._lContainer),n)?new Eu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mb(t){return t[8]}function Km(t){return t[8]||(t[8]=[])}function _b(t,e){let n;const r=e[t.index];return Ht(r)?n=r:(n=q0(r,e,null,t),e[t.index]=n,bd(e,n)),yb(n,e,t,r),new gb(n,t,e)}let yb=function vb(t,e,n,r){if(t[ir])return;let i;i=8&n.type?Re(r):function K4(t,e){const n=t[Z],r=n.createComment(""),i=rn(e,t);return qi(n,ud(n,i),r,function m2(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[ir]=i};class Ym{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ym(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Zm(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==bb(e,n).matches&&this.queries[n].setDirty()}}class Eb{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Xm{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Xm(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Jm{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Jm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,X4(n,o)),this.matchTNodeWithReadOption(e,n,Wl(n,e,o,!1,!1))}else r===kr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Wl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===yn||i===qn||i===kr&&4&n.type)this.addMatch(n.index,-2);else{const o=Wl(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function X4(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function e9(t,e,n,r){return-1===n?function J4(t,e){return 11&t.type?cs(t,e):4&t.type?zd(t,e):null}(e,t):-2===n?function t9(t,e,n){return n===yn?cs(e,t):n===kr?zd(e,t):n===qn?_b(e,t):void 0}(t,e,r):Gi(t,t[V],n,e)}function Ib(t,e,n,r){const i=e[rr].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:e9(e,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function e_(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ib(t,e,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],l=e[-u];for(let d=wt;d<l.length;d++){const h=l[d];h[za]===h[Le]&&e_(h[V],h,c,r)}if(null!==l[Bo]){const d=l[Bo];for(let h=0;h<d.length;h++){const f=d[h];e_(f[V],f,c,r)}}}}}return r}function wb(t){const e=D(),n=ce(),r=xD();cg(r+1);const i=bb(n,r);if(t.dirty&&function Vk(t){return 4==(4&t[te])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?e_(n,e,r,[]):Ib(n,e,i,r);t.reset(o,mB),t.notifyOnChanges()}return!0}return!1}function Db(t,e,n,r){const i=ce();if(i.firstCreatePass){const o=Ct();(function Ab(t,e,n){null===t.queries&&(t.queries=new Xm),t.queries.track(new Jm(e,n))})(i,new Eb(e,n,r),o.index),function i9(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function Tb(t,e,n){const r=new Qm(4==(4&n));(function KB(t,e,n,r){const i=W0(e);i.push(n),t.firstCreatePass&&Q0(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[rr]&&(e[rr]=new Zm),e[rr].queries.push(new Ym(r))}(i,D(),n)}function bb(t,e){return t.queries.getByIndex(e)}const s_=new B("Application Initializer");let a_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(s_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Au(o))n.push(o);else if(bT(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gb=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Lr=new B("LocaleId",{providedIn:"root",factory:()=>k(Lr,ie.Optional|ie.SkipSelf)||function A9(){return typeof $localize<"u"&&$localize.locale||Ts}()});let qb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new An(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class R9{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let zb=(()=>{class t{compileModuleSync(n){return new qm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Or(gn(n).declarations).reduce((s,a)=>{const u=ue(a);return u&&s.push(new Iu(u)),s},[]);return new R9(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Yb=new B(""),Yd=new B("");let h_,l_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,h_||(function Z9(t){h_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(H(Me),H(d_),H(Yd))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),d_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return h_?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),li=null;const Zb=new B("AllowMultipleToken"),f_=new B("PlatformDestroyListeners"),p_=new B("appBootstrapListener");class Jb{constructor(e,n){this.name=e,this.token=n}}function tS(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(o=[])=>{let s=g_();if(!s||s.injector.get(Zb,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function eH(t){if(li&&!li.get(Zb,!1))throw new R(400,!1);(function Xb(){!function Ik(t){lD=t}(()=>{throw new R(600,!1)})})(),li=t;const e=t.get(rS);(function eS(t){t.get(r0,null)?.forEach(n=>n())})(t)}(function nS(t=[],e){return vn.create({name:e,providers:[{provide:Wg,useValue:"platform"},{provide:f_,useValue:new Set([()=>li=null])},...t]})}(a,r))}return function nH(t){const e=g_();if(!e)throw new R(401,!1);return e}()}}function g_(){return li?.get(rS)??null}let rS=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function rH(t="zone.js",e){return"noop"===t?new xB:"zone.js"===t?new Me(e):t}(r?.ngZone,function iS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function l4(t,e,n){return new Gm(t,e,n)}(n.moduleType,this.injector,function cS(t){return[{provide:Me,useFactory:t},{provide:fu,multi:!0,useFactory:()=>{const e=k(oH,{optional:!0});return()=>e.initialize()}},{provide:uS,useFactory:iH},{provide:I0,useFactory:w0}]}(()=>i)),s=o.injector.get(Vr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Zd(this._modules,o),a.unsubscribe()})}),function oS(t,e,n){try{const r=n();return Au(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(a_);return a.runInitializers(),a.donePromise.then(()=>(function TA(t){bn(t,"Expected localeId to be defined"),"string"==typeof t&&(CA=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Lr,Ts)||Ts),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=sS({},r);return function X9(t,e,n){const r=new qm(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ss);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new R(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(f_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(H(vn))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function sS(t,e){return Array.isArray(e)?e.reduce(sS,t):{...t,...e}}let Ss=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(uS),this.zoneIsStable=k(I0),this.componentTypes=[],this.components=[],this.isStable=k(qb).hasPendingTasks.pipe(Jn(n=>n?Q(!1):this.zoneIsStable),function PF(t,e=Jr){return t=t??NF,st((n,r)=>{let i,o=!0;n.subscribe(rt(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Sw()),this._injector=k(xn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof c0;if(!this._injector.get(a_).done)throw!i&&function Vo(t){const e=ue(t)||It(t)||$t(t);return null!==e&&e.standalone}(n),new R(405,!1);let s;s=i?n:this._injector.get(Dd).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function J9(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Zi),c=s.create(vn.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(Yb,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Zd(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Zd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(p_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new R(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const uS=new B("",{providedIn:"root",factory:()=>k(Vr).handleError.bind(void 0)});function iH(){const t=k(Me),e=k(Vr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let oH=(()=>{class t{constructor(){this.zone=k(Me),this.applicationRef=k(Ss)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Xd=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=aH}return t})();function aH(t){return function uH(t,e,n){if(ji(t)&&!n){const r=mn(t.index,e);return new Eu(r,r)}return 47&t.type?new Eu(e[Ye],e):null}(Ct(),D(),16==(16&t))}const IH=tS(null,"core",[]);let wH=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ss))};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Ln({})}return t})();function Rs(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let I_=null;function di(){return I_}class FH{}const Nn=new B("DocumentToken");let w_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return k(LH)},providedIn:"platform"})}return t})();const kH=new B("Location Initialized");let LH=(()=>{class t extends w_{constructor(){super(),this._doc=k(Nn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return di().getBaseHref(this._doc)}onPopState(n){const r=di().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=di().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function D_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function bS(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Br(t){return t&&"?"!==t[0]?"?"+t:t}let Ji=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return k(RS)},providedIn:"root"})}return t})();const SS=new B("appBaseHref");let RS=(()=>{class t extends Ji{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Nn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return D_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Br(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Br(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Br(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(H(w_),H(SS,8))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BH=(()=>{class t extends Ji{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=D_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Br(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Br(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(H(w_),H(SS,8))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),C_=(()=>{class t{constructor(n){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function $H(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(bS(MS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Br(r))}normalize(n){return t.stripTrailingSlash(function jH(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,MS(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Br(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Br;static#t=this.joinWithSlash=D_;static#n=this.stripTrailingSlash=bS;static#r=this.\u0275fac=function(r){return new(r||t)(H(Ji))};static#i=this.\u0275prov=$({token:t,factory:function(){return function UH(){return new C_(H(Ji))}()},providedIn:"root"})}return t})();function MS(t){return t.replace(/\/index.html$/,"")}let O_=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new x3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$S("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$S("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(qn),b(kr))};static#t=this.\u0275dir=W({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class x3{constructor(){this.$implicit=null,this.ngIf=null}}function $S(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${at(e)}'.`)}let nG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Ln({})}return t})();function zS(t){return"server"===t}let sG=(()=>{class t{static#e=this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new aG(H(Nn),window)})}return t})();class aG{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function uG(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class PG extends FH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $_ extends PG{static makeCurrent(){!function OH(t){I_||(I_=t)}(new $_)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function NG(){return ju=ju||document.querySelector("base"),ju?ju.getAttribute("href"):null}();return null==n?null:function VG(t){gh=gh||document.createElement("a"),gh.setAttribute("href",t);const e=gh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function A3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let gh,ju=null,FG=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();const H_=new B("EventManagerPlugins");let ZS=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(H(H_),H(Me))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();class XS{constructor(e){this._doc=e}}const G_="ng-app-id";let JS=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zS(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${G_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(G_),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(G_,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(H(Nn),H(_d),H(o0,8),H(ss))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();const q_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},z_=/%COMP%/g,UG=new B("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tR(t,e){return e.map(n=>n.replace(z_,t))}let nR=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=zS(a),this.defaultRenderer=new W_(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Bn.ShadowDom&&(r={...r,encapsulation:Bn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof iR?i.applyToHost(n):i instanceof Q_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Bn.Emulated:o=new iR(u,c,r,this.appId,l,s,a,d);break;case Bn.ShadowDom:return new GG(u,c,n,r,s,a,this.nonce,d);default:o=new Q_(u,c,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(H(ZS),H(JS),H(_d),H(UG),H(Nn),H(ss),H(Me),H(o0))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();class W_{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(q_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new R(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=q_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=q_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ai.DashCase|ai.Important)?e.style.setProperty(n,r,i&ai.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ai.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=di().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function rR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class GG extends W_{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=tR(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Q_ extends W_{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?tR(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iR extends Q_{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function jG(t){return"_ngcontent-%COMP%".replace(z_,t)}(c),this.hostAttr=function $G(t){return"_nghost-%COMP%".replace(z_,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let qG=(()=>{class t extends XS{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(H(Nn))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();const oR=["alt","control","meta","shift"],zG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WG={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let QG=(()=>{class t extends XS{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>di().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),oR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=zG[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oR.forEach(s=>{s!==i&&(0,WG[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(H(Nn))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();const aR=[{provide:ss,useValue:"browser"},{provide:r0,useValue:function KG(){$_.makeCurrent()},multi:!0},{provide:Nn,useFactory:function ZG(){return function C2(t){Lg=t}(document),document},deps:[]}],XG=tS(IH,"browser",aR),JG=new B(""),uR=[{provide:Yd,useClass:class OG{addToWindow(e){Se.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new R(5103,!1);return o},Se.getAllAngularTestabilities=()=>e.getAllTestabilities(),Se.getAllAngularRootElements=()=>e.getAllRootElements(),Se.frameworkStabilizers||(Se.frameworkStabilizers=[]),Se.frameworkStabilizers.push(r=>{const i=Se.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?di().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Yb,useClass:l_,deps:[Me,d_,Yd]},{provide:l_,useClass:l_,deps:[Me,d_,Yd]}],cR=[{provide:Wg,useValue:"root"},{provide:Vr,useFactory:function YG(){return new Vr},deps:[]},{provide:H_,useClass:qG,multi:!0,deps:[Nn,Me,ss]},{provide:H_,useClass:QG,multi:!0,deps:[Nn]},nR,JS,ZS,{provide:d0,useExisting:nR},{provide:class cG{},useClass:FG,deps:[]},[]];let eq=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:_d,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(H(JG,12))};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Ln({providers:[...cR,...uR],imports:[nG,wH]})}return t})(),lR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(H(Nn))};static#t=this.\u0275prov=$({token:t,factory:function(r){let i=null;return i=r?new r:function nq(){return new lR(H(Nn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:uq}=Array,{getPrototypeOf:cq,prototype:lq,keys:dq}=Object;function pR(t){if(1===t.length){const e=t[0];if(uq(e))return{args:e,keys:null};if(function hq(t){return t&&"object"==typeof t&&cq(t)===lq}(e)){const n=dq(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:fq}=Array;function gR(t){return Te(e=>function pq(t,e){return fq(e)?t(...e):t(e)}(t,e))}function mR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Y_(...t){const e=Ba(t),n=Cw(t),{args:r,keys:i}=pR(t);if(0===r.length)return ht([],e);const o=new nt(function gq(t,e,n=Jr){return r=>{_R(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)_R(e,()=>{const c=ht(t[u],e);let l=!1;c.subscribe(rt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>mR(i,s):Jr));return n?o.pipe(gR(n)):o}function _R(t,e,n){t?Ar(n,t,e):e()}const mh=Fa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z_(...t){return function mq(){return Po(1)}()(ht(t,Ba(t)))}function yR(t){return new nt(e=>{fn(t()).subscribe(e)})}function $u(t,e){const n=we(t)?t:()=>t,r=i=>i.error(n());return new nt(e?i=>e.schedule(r,0,i):r)}function X_(){return st((t,e)=>{let n=null;t._refCount++;const r=rt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class vR extends nt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hn;const n=this.getSubject();e.add(this.source.subscribe(rt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hn.EMPTY)}return e}refCount(){return X_()(this)}}function xs(t){return t<=0?()=>Xn:st((e,n)=>{let r=0;e.subscribe(rt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function fi(t,e){return st((n,r)=>{let i=0;n.subscribe(rt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function _h(t){return st((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ER(t=yq){return st((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function yq(){return new mh}function eo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fi((i,o)=>t(i,o,r)):Jr,xs(1),n?_h(e):ER(()=>new mh))}function Hu(t,e){return we(e)?Et(t,e,1):Et(t,1)}function Ot(t,e,n){const r=we(t)||e||n?{next:t,error:e,complete:n}:t;return r?st((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(rt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Jr}function to(t){return st((e,n)=>{let o,r=null,i=!1;r=e.subscribe(rt(n,void 0,void 0,s=>{o=fn(t(s,to(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function J_(t){return t<=0?()=>Xn:st((e,n)=>{let r=[];e.subscribe(rt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ey(t){return st((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ne="primary",Gu=Symbol("RouteTitle");class Cq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ps(t){return new Cq(t)}function Tq(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!IR(t[i],e[i]))return!1;return!0}function IR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function wR(t){return t.length>0?t[t.length-1]:null}function pi(t){return function aq(t){return!!t&&(t instanceof nt||we(t.lift)&&we(t.subscribe))}(t)?t:Au(t)?ht(Promise.resolve(t)):Q(t)}const bq={exact:function TR(t,e,n){if(!no(t.segments,e.segments)||!yh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!TR(t.children[r],e.children[r],n))return!1;return!0},subset:AR},DR={exact:function Sq(t,e){return gr(t,e)},subset:function Rq(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>IR(t[n],e[n]))},ignored:()=>!0};function CR(t,e,n){return bq[n.paths](t.root,e.root,n.matrixParams)&&DR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function AR(t,e,n){return bR(t,e,e.segments,n)}function bR(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!no(i,n)||e.hasChildren()||!yh(i,n,r))}if(t.segments.length===n.length){if(!no(t.segments,n)||!yh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!AR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(no(t.segments,i)&&yh(t.segments,i,r)&&t.children[ne])&&bR(t.children[ne],e,o,r)}}function yh(t,e,n){return e.every((r,i)=>DR[n](t[i].parameters,r.parameters))}class Ns{constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return Pq.serialize(this)}}class ve{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vh(this)}}class qu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ps(this.parameters)),this._parameterMap}toString(){return MR(this)}}function no(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let zu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return new ty},providedIn:"root"})}return t})();class ty{parse(e){const n=new Hq(e);return new Ns(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Wu(e.root,!0)}`,r=function Oq(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Eh(n)}=${Eh(i)}`).join("&"):`${Eh(n)}=${Eh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Nq(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Pq=new ty;function vh(t){return t.segments.map(e=>MR(e)).join("/")}function Wu(t,e){if(!t.hasChildren())return vh(t);if(e){const n=t.children[ne]?Wu(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${Wu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function xq(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ne?[Wu(t.children[ne],!1)]:[`${i}:${Wu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ne]?`${vh(t)}/${n[0]}`:`${vh(t)}/(${n.join("//")})`}}function SR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eh(t){return SR(t).replace(/%3B/gi,";")}function ny(t){return SR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ih(t){return decodeURIComponent(t)}function RR(t){return Ih(t.replace(/\+/g,"%20"))}function MR(t){return`${ny(t.path)}${function Vq(t){return Object.keys(t).map(e=>`;${ny(e)}=${ny(t[e])}`).join("")}(t.parameters)}`}const Fq=/^[^\/()?;#]+/;function ry(t){const e=t.match(Fq);return e?e[0]:""}const kq=/^[^\/()?;=#]+/,Bq=/^[^=?&#]+/,jq=/^[^&#]+/;class Hq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ve(e,n)),r}parseSegment(){const e=ry(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new qu(Ih(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Lq(t){const e=t.match(kq);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ry(this.remaining);i&&(r=i,this.capture(r))}e[Ih(n)]=Ih(r)}parseQueryParam(e){const n=function Uq(t){const e=t.match(Bq);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function $q(t){const e=t.match(jq);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=RR(n),o=RR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ry(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new R(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ne]:new ve([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}}function xR(t){return t.segments.length>0?new ve([],{[ne]:t}):t}function PR(t){const e={};for(const r of Object.keys(t.children)){const o=PR(t.children[r]);if(r===ne&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Gq(t){if(1===t.numberOfChildren&&t.children[ne]){const e=t.children[ne];return new ve(t.segments.concat(e.segments),e.children)}return t}(new ve(t.segments,e))}function ro(t){return t instanceof Ns}function NR(t){let e;const i=xR(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new ve(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function VR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return iy(i,i,i,n,r);const o=function zq(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new FR(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new FR(n,e,r)}(e);if(o.toRoot())return iy(i,i,new ve([],{}),n,r);const s=function Wq(t,e,n){if(t.isAbsolute)return new Dh(e,!0,0);if(!n)return new Dh(e,!1,NaN);if(null===n.parent)return new Dh(n,!0,0);const r=wh(t.commands[0])?0:1;return function Qq(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new Dh(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Ku(s.segmentGroup,s.index,o.commands):kR(s.segmentGroup,s.index,o.commands);return iy(i,s.segmentGroup,a,n,r)}function wh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qu(t){return"object"==typeof t&&null!=t&&t.outlets}function iy(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:OR(t,e,n);const a=xR(PR(s));return new Ns(a,o,i)}function OR(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:OR(o,e,n)}),new ve(t.segments,r)}class FR{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&wh(r[0]))throw new R(4003,!1);const i=r.find(Qu);if(i&&i!==wR(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dh{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function kR(t,e,n){if(t||(t=new ve([],{})),0===t.segments.length&&t.hasChildren())return Ku(t,e,n);const r=function Yq(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Qu(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!BR(u,c,s))return o;r+=2}else{if(!BR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new ve(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new ve(t.segments.slice(r.pathIndex),t.children),Ku(o,0,i)}return r.match&&0===i.length?new ve(t.segments,{}):r.match&&!t.hasChildren()?oy(t,e,n):r.match?Ku(t,0,i):oy(t,e,n)}function Ku(t,e,n){if(0===n.length)return new ve(t.segments,{});{const r=function Kq(t){return Qu(t[0])?t[0].outlets:{[ne]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&1===t.numberOfChildren&&0===t.children[ne].segments.length){const o=Ku(t.children[ne],e,n);return new ve(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=kR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ve(t.segments,i)}}function oy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Qu(o)){const u=Zq(o.outlets);return new ve(r,u)}if(0===i&&wh(n[0])){r.push(new qu(t.segments[e].path,LR(n[0]))),i++;continue}const s=Qu(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&wh(a)?(r.push(new qu(s,LR(a))),i+=2):(r.push(new qu(s,{})),i++)}return new ve(r,{})}function Zq(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=oy(new ve([],{}),0,r))}),e}function LR(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function BR(t,e,n){return t==n.path&&gr(e,n.parameters)}const Yu="imperative";class mr{constructor(e,n){this.id=e,this.url=n}}class Ch extends mr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gi extends mr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zu extends mr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vs extends mr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Th extends mr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UR extends mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xq extends mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jq extends mr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e6 extends mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t6 extends mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n6{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class r6{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class i6{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o6{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s6{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a6{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jR{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sy{}class ay{constructor(e){this.url=e}}class u6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xu,this.attachRef=null}}let Xu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new u6,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class $R{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=uy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=uy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=cy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cy(e,this._root).map(n=>n.value)}}function uy(t,e){if(t===e.value)return e;for(const n of e.children){const r=uy(t,n);if(r)return r}return null}function cy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=cy(t,n);if(r.length)return r.unshift(e),r}return[]}class $r{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Os(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class HR extends $R{constructor(e,n){super(e),this.snapshot=n,ly(this,e)}toString(){return this.snapshot.toString()}}function GR(t,e){const n=function c6(t,e){const s=new Ah([],{},{},"",{},ne,e,null,{});return new zR("",new $r(s,[]))}(0,e),r=new An([new qu("",{})]),i=new An({}),o=new An({}),s=new An({}),a=new An(""),u=new Fs(r,i,s,a,o,ne,e,n.root);return u.snapshot=n.root,new HR(new $r(u,[]),n)}class Fs{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Te(c=>c[Gu]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>Ps(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>Ps(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qR(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function l6(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ah{get title(){return this.data?.[Gu]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ps(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zR extends $R{constructor(e,n){super(n),this.url=e,ly(this,n)}toString(){return WR(this._root)}}function ly(t,e){e.value._routerState=t,e.children.forEach(n=>ly(t,n))}function WR(t){const e=t.children.length>0?` { ${t.children.map(WR).join(", ")} } `:"";return`${t.value}${e}`}function dy(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),gr(e.params,n.params)||t.paramsSubject.next(n.params),function Aq(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),gr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hy(t,e){const n=gr(t.params,e.params)&&function Mq(t,e){return no(t,e)&&t.every((n,r)=>gr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||hy(t.parent,e.parent))}let fy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=k(Xu),this.location=k(qn),this.changeDetector=k(Xd),this.environmentInjector=k(xn),this.inputBinder=k(bh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new d6(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=W({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rn]})}return t})();class d6{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fs?this.route:e===Xu?this.childContexts:this.parent.get(e,n)}}const bh=new B("");let QR=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Y_([r.queryParams,r.params,r.data]).pipe(Jn(([o,s,a],u)=>(a={...o,...s,...a},0===u?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function VH(t){const e=ue(t);if(!e)return null;const n=new Iu(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function Ju(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function f6(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ju(t,r,i);return Ju(t,r)})}(t,e,n);return new $r(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ju(t,a)),s}}const r=function p6(t){return new Fs(new An(t.url),new An(t.params),new An(t.queryParams),new An(t.fragment),new An(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Ju(t,o));return new $r(r,i)}}const py="ngNavigationCancelingError";function KR(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YR(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function YR(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[py]=!0,r.cancellationCode=e,n&&(r.url=n),r}function ZR(t){return t&&t[py]}let XR=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["ng-component"]],standalone:!0,features:[XA],decls:1,vars:0,template:function(r,i){1&r&&sn(0,"router-outlet")},dependencies:[fy],encapsulation:2})}return t})();function gy(t){const e=t.children&&t.children.map(gy),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=XR),n}function Qn(t){return t.outlet||ne}function ec(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class w6{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),dy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Os(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Os(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Os(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Os(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new a6(o.value.snapshot))}),e.children.length&&this.forwardEvent(new o6(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(dy(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ec(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class JR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sh{constructor(e,n){this.component=e,this.route=n}}function D6(t,e,n){const r=t._root;return tc(r,e?e._root:null,n,[r.value])}function ks(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function UF(t){return null!==bl(t)}(t)?e.get(t):t:r}function tc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Os(e);return t.children.forEach(s=>{(function T6(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function A6(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!no(t.url,e.url);case"pathParamsOrQueryParamsChange":return!no(t.url,e.url)||!gr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hy(t,e)||!gr(t.queryParams,e.queryParams);default:return!hy(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new JR(r)):(o.data=s.data,o._resolvedData=s._resolvedData),tc(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sh(a.outlet.component,s))}else s&&nc(e,a,i),i.canActivateChecks.push(new JR(r)),tc(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>nc(a,n.getContext(s),i)),i}function nc(t,e,n){const r=Os(t),i=t.value;Object.entries(r).forEach(([o,s])=>{nc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Sh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function rc(t){return"function"==typeof t}function eM(t){return t instanceof mh||"EmptyError"===t?.name}const Rh=Symbol("INITIAL_VALUE");function Ls(){return Jn(t=>Y_(t.map(e=>e.pipe(xs(1),function _q(...t){const e=Ba(t);return st((n,r)=>{(e?Z_(t,n,e):Z_(t,n)).subscribe(r)})}(Rh)))).pipe(Te(e=>{for(const n of e)if(!0!==n){if(n===Rh)return Rh;if(!1===n||n instanceof Ns)return n}return!0}),fi(e=>e!==Rh),xs(1)))}function tM(t){return function $O(...t){return sw(t)}(Ot(e=>{if(ro(e))throw KR(0,e)}),Te(e=>!0===e))}class Mh{constructor(e){this.segmentGroup=e||null}}class nM{constructor(e){this.urlTree=e}}function Bs(t){return $u(new Mh(t))}function rM(t){return $u(new nM(t))}class z6{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new R(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[ne])return $u(new R(4e3,!1));i=i.children[ne]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Ns(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ve(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const my={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W6(t,e,n,r,i){const o=_y(t,e,n);return o.matched?(r=function m6(t,e){return t.providers&&!t._injector&&(t._injector=zm(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function H6(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(s=>{const a=ks(s,t);return pi(function P6(t){return t&&rc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ls(),tM()):Q(!0)}(r,e,n).pipe(Te(s=>!0===s?o:{...my}))):Q(o)}function _y(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...my}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Tq)(n,t,e);if(!i)return{...my};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function iM(t,e,n,r){return n.length>0&&function Y6(t,e,n){return n.some(r=>xh(t,e,r)&&Qn(r)!==ne)}(t,n,r)?{segmentGroup:new ve(e,K6(r,new ve(n,t.children))),slicedSegments:[]}:0===n.length&&function Z6(t,e,n){return n.some(r=>xh(t,e,r))}(t,n,r)?{segmentGroup:new ve(t.segments,Q6(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function Q6(t,e,n,r,i){const o={};for(const s of r)if(xh(t,n,s)&&!i[Qn(s)]){const a=new ve([],{});o[Qn(s)]=a}return{...i,...o}}function K6(t,e){const n={};n[ne]=e;for(const r of t)if(""===r.path&&Qn(r)!==ne){const i=new ve([],{});n[Qn(r)]=i}return n}function xh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class tz{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new z6(this.urlSerializer,this.urlTree)}noMatchError(e){return new R(4002,!1)}recognize(){const e=iM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(to(n=>{if(n instanceof nM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Mh?this.noMatchError(n):n}),Te(n=>{const r=new Ah([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new $r(r,n),o=new zR("",i),s=function qq(t,e,n=null,r=null){return VR(NR(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ne).pipe(to(r=>{throw r instanceof Mh?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=qR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ht(i).pipe(Hu(o=>{const s=r.children[o],a=function E6(t,e){const n=t.filter(r=>Qn(r)===e);return n.push(...t.filter(r=>Qn(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Eq(t,e){return st(function vq(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(rt(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),_h(null),function Iq(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fi((i,o)=>t(i,o,r)):Jr,J_(1),n?_h(e):ER(()=>new mh))}(),Et(o=>{if(null===o)return Bs(r);const s=oM(o);return function nz(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Q(s)}))}processSegment(e,n,r,i,o,s){return ht(n).pipe(Hu(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(to(u=>{if(u instanceof Mh)return Q(null);throw u}))),eo(a=>!!a),to(a=>{if(eM(a))return function J6(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Q([]):Bs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function X6(t,e,n,r){return!!(Qn(t)===r||r!==ne&&xh(e,n,t))&&("**"===t.path||_y(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Bs(i):Bs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rM(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Et(s=>{const a=new ve(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=_y(n,i,o);if(!a)return Bs(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?rM(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Et(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?wR(i).parameters:{};a=Q({snapshot:new Ah(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sM(r),Qn(r),r.component??r._loadedComponent??null,r,aM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=W6(n,r,i,e).pipe(Te(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Ah(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sM(r),Qn(r),r.component??r._loadedComponent??null,r,aM(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Jn(u=>null===u?Bs(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Jn(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=iM(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Te(v=>null===v?null:[new $r(d,v)]));if(0===c.length&&0===g.length)return Q([new $r(d,[])]);const m=Qn(r)===o;return this.processSegment(l,c,p,g,m?ne:o,!0).pipe(Te(v=>[new $r(d,v)]))}))))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):function $6(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(s=>{const a=ks(s,t);return pi(function S6(t){return t&&rc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ls(),tM())}(e,n,r).pipe(Et(i=>i?this.configLoader.loadChildren(e,n).pipe(Ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function q6(t){return $u(YR(!1,3))}())):Q({routes:[],injector:e})}}function rz(t){const e=t.value.routeConfig;return e&&""===e.path}function oM(t){const e=[],n=new Set;for(const r of t){if(!rz(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=oM(r.children);e.push(new $r(r.value,i))}return e.filter(r=>!n.has(r))}function sM(t){return t.data||{}}function aM(t){return t.resolve||{}}function uM(t){return"string"==typeof t.title||null===t.title}function yy(t){return Jn(e=>{const n=t(e);return n?ht(n).pipe(Te(()=>e)):Q(e)})}const Us=new B("ROUTES");let vy=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(zb)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=pi(n.loadComponent()).pipe(Te(cM),Ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ey(()=>{this.componentLoaders.delete(n)})),i=new vR(r,()=>new kn).pipe(X_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function lz(t,e,n,r){return pi(t.loadChildren()).pipe(Te(cM),Et(i=>i instanceof YA||Array.isArray(i)?Q(i):ht(e.compileModuleAsync(i))),Te(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Us,[],{optional:!0,self:!0}).flat()),{routes:s.map(gy),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ey(()=>{this.childrenLoaders.delete(r)})),s=new vR(o,()=>new kn).pipe(X_());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cM(t){return function dz(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Ph=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new kn,this.transitionAbortSubject=new kn,this.configLoader=k(vy),this.environmentInjector=k(xn),this.urlSerializer=k(zu),this.rootContexts=k(Xu),this.inputBindingEnabled=null!==k(bh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new r6(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new n6(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new An({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(o=>0!==o.id),Te(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Jn(o=>{this.currentTransition=o;let s=!1,a=!1;return Q(o).pipe(Ot(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jn(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Vs(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Xn}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(Jn(h=>{const f=this.transitions?.getValue();return this.events.next(new Ch(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Xn:Promise.resolve(h)}),function iz(t,e,n,r,i,o){return Et(s=>function ez(t,e,n,r,i,o,s="emptyOnly"){return new tz(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Te(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ot(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new UR(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,v=new Ch(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const _=GR(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},Q(o)}{const h="";return this.events.next(new Vs(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Xn}}),Ot(u=>{const c=new Xq(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Te(u=>(this.currentTransition=o={...u,guards:D6(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function V6(t,e){return Et(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Q({...n,guardsResult:!0}):function O6(t,e,n,r){return ht(t).pipe(Et(i=>function j6(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Q(o.map(a=>{const u=ec(e)??i,c=ks(a,u);return pi(function x6(t){return t&&rc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(eo())})).pipe(Ls()):Q(!0)}(i.component,i.route,n,e,r)),eo(i=>!0!==i,!0))}(s,r,i,t).pipe(Et(a=>a&&function b6(t){return"boolean"==typeof t}(a)?function F6(t,e,n,r){return ht(e).pipe(Hu(i=>Z_(function L6(t,e){return null!==t&&e&&e(new i6(t)),Q(!0)}(i.route.parent,r),function k6(t,e){return null!==t&&e&&e(new s6(t)),Q(!0)}(i.route,r),function U6(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function C6(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>yR(()=>Q(s.guards.map(u=>{const c=ec(s.node)??n,l=ks(u,c);return pi(function M6(t){return t&&rc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(eo())})).pipe(Ls())));return Q(o).pipe(Ls())}(t,i.path,n),function B6(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(o=>yR(()=>{const s=ec(e)??n,a=ks(o,s);return pi(function R6(t){return t&&rc(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(eo())}));return Q(i).pipe(Ls())}(t,i.route,n))),eo(i=>!0!==i,!0))}(r,o,t,e):Q(a)),Te(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Ot(u=>{if(o.guardsResult=u.guardsResult,ro(u.guardsResult))throw KR(0,u.guardsResult);const c=new Jq(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),fi(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),yy(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(Ot(c=>{const l=new e6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Jn(c=>{let l=!1;return Q(c).pipe(function oz(t,e){return Et(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=0;return ht(i).pipe(Hu(s=>function sz(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!uM(i)&&(o[Gu]=i.title),function az(t,e,n,r){const i=function uz(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Q({});const o={};return ht(i).pipe(Et(s=>function cz(t,e,n,r){const i=ec(e)??r,o=ks(t,i);return pi(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(eo(),Ot(a=>{o[s]=a}))),J_(1),function wq(t){return Te(()=>t)}(o),to(s=>eM(s)?Xn:$u(s)))}(o,t,e,r).pipe(Te(s=>(t._resolvedData=s,t.data=qR(t,n).resolve,i&&uM(i)&&(t.data[Gu]=i.title),null)))}(s.route,r,t,e)),Ot(()=>o++),J_(1),Et(s=>o===i.length?Q(n):Xn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ot({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Ot(c=>{const l=new t6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),yy(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ot(h=>{l.component=h}),Te(()=>{})));for(const h of l.children)d.push(...c(h));return d};return Y_(c(u.targetSnapshot.root)).pipe(_h(),xs(1))}),yy(()=>this.afterPreactivation()),Te(u=>{const c=function h6(t,e,n){const r=Ju(t,e._root,n?n._root:void 0);return new HR(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},o}),Ot(()=>{this.events.next(new sy)}),((t,e,n,r)=>Te(i=>(new w6(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),xs(1),Ot({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function Dq(t){return st((e,n)=>{fn(t).subscribe(rt(n,()=>n.complete(),wp)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Ot(u=>{throw u}))),ey(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),to(u=>{if(a=!0,ZR(u))this.events.next(new Zu(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function g6(t){return ZR(t)&&ro(t.url)}(u)?this.events.next(new ay(u.url)):o.resolve(!1);else{this.events.next(new Th(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(c){o.reject(c)}}return Xn}))}))}cancelNavigationTransition(n,r,i){const o=new Zu(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lM(t){return t!==Yu}let dM=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[Gu]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return k(hz)},providedIn:"root"})}return t})(),hz=(()=>{class t extends dM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(H(lR))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return k(gz)},providedIn:"root"})}return t})();class pz{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let gz=(()=>{class t extends pz{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Tt(t)))(i||t)}}();static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Nh=new B("",{providedIn:"root",factory:()=>({})});let mz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return k(_z)},providedIn:"root"})}return t})(),_z=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ic=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ic||{});function hM(t,e){t.events.pipe(fi(n=>n instanceof gi||n instanceof Zu||n instanceof Th||n instanceof Vs),Te(n=>n instanceof gi||n instanceof Vs?ic.COMPLETE:n instanceof Zu&&(0===n.code||1===n.code)?ic.REDIRECTING:ic.FAILED),fi(n=>n!==ic.REDIRECTING),xs(1)).subscribe(()=>{e()})}function yz(t){throw t}function vz(t,e,n){return e.parse("/")}const Ez={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=k(Gb),this.isNgZoneEnabled=!1,this._events=new kn,this.options=k(Nh,{optional:!0})||{},this.pendingTasks=k(qb),this.errorHandler=this.options.errorHandler||yz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=k(mz),this.routeReuseStrategy=k(fz),this.titleStrategy=k(dM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=k(Us,{optional:!0})?.flat()??[],this.navigationTransitions=k(Ph),this.urlSerializer=k(zu),this.location=k(C_),this.componentInputBindingEnabled=!!k(bh,{optional:!0}),this.eventsSubscription=new hn,this.isNgZoneEnabled=k(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ns,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GR(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(fM(r)&&this._events.next(r));if(r instanceof Ch)lM(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Vs)this.rawUrlTree=i.rawUrl;else if(r instanceof UR){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof sy)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Zu)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof ay){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lM(i.source)};this.scheduleNavigation(o,Yu,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Th&&this.restoreHistory(i,!0),r instanceof gi&&(this.navigated=!0),fM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yu,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(gy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=NR(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return VR(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ro(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Yu,null,r)}navigate(n,r={skipLocationChange:!1}){return function wz(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new R(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Ez}:!1===r?{...Iz}:r,ro(n))return CR(this.currentUrlTree,n,i);const o=this.parseUrl(n);return CR(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return hM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fM(t){return!(t instanceof sy||t instanceof ay)}let oc=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new kn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof gi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function QC(t,e,n){return function z2(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?WC:zC}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Yt),b(Fs),function Ql(t){return function hL(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Uw(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Ct(),t)}("tabindex"),b(Nr),b(yn),b(Ji))};static#t=this.\u0275dir=W({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Oe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&hr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Rs],skipLocationChange:["skipLocationChange","skipLocationChange",Rs],replaceUrl:["replaceUrl","replaceUrl",Rs],routerLink:"routerLink"},standalone:!0,features:[cT,Rn]})}return t})(),pM=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new qe,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof gi&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(Po()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ht(n).pipe(Po()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function Dz(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Yt),b(yn),b(Nr),b(Xd),b(oc,8))};static#t=this.\u0275dir=W({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&Db(o,oc,5),2&r){let s;wb(s=function Cb(){return function r9(t,e){return t[rr].queries[e].queryList}(D(),xD())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Rn]})}return t})();class gM{}let Cz=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(fi(n=>n instanceof gi),Hu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=zm(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ht(i).pipe(Po())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Q(null);const o=i.pipe(Et(s=>null===s?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?ht([o,this.loader.loadComponent(r)]).pipe(Po()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(H(Yt),H(zb),H(xn),H(gM),H(vy))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ey=new B("");let mM=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ch?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof gi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Vs&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof jR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function F0(){throw new Error("invalid")}()};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function Hr(t,e){return{\u0275kind:t,\u0275providers:e}}function yM(){const t=k(vn);return e=>{const n=t.get(Ss);if(e!==n.components[0])return;const r=t.get(Yt),i=t.get(vM);1===t.get(Iy)&&r.initialNavigation(),t.get(EM,null,ie.Optional)?.setUpPreloading(),t.get(Ey,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vM=new B("",{factory:()=>new kn}),Iy=new B("",{providedIn:"root",factory:()=>1}),EM=new B("");function Sz(t){return Hr(0,[{provide:EM,useExisting:Cz},{provide:gM,useExisting:t}])}const IM=new B("ROUTER_FORROOT_GUARD"),Mz=[C_,{provide:zu,useClass:ty},Yt,Xu,{provide:Fs,useFactory:function _M(t){return t.routerState.root},deps:[Yt]},vy,[]];function xz(){return new Jb("Router",Yt)}let wM=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Mz,[],{provide:Us,multi:!0,useValue:n},{provide:IM,useFactory:Oz,deps:[[Yt,new Zl,new Xl]]},{provide:Nh,useValue:r||{}},r?.useHash?{provide:Ji,useClass:BH}:{provide:Ji,useClass:RS},{provide:Ey,useFactory:()=>{const t=k(sG),e=k(Me),n=k(Nh),r=k(Ph),i=k(zu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new mM(i,r,t,e,n)}},r?.preloadingStrategy?Sz(r.preloadingStrategy).\u0275providers:[],{provide:Jb,multi:!0,useFactory:xz},r?.initialNavigation?Fz(r):[],r?.bindToComponentInputs?Hr(8,[QR,{provide:bh,useExisting:QR}]).\u0275providers:[],[{provide:DM,useFactory:yM},{provide:p_,multi:!0,useExisting:DM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Us,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(H(IM,8))};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Ln({})}return t})();function Oz(t){return"guarded"}function Fz(t){return["disabled"===t.initialNavigation?Hr(3,[{provide:s_,multi:!0,useFactory:()=>{const e=k(Yt);return()=>{e.setUpLocationChangeListener()}}},{provide:Iy,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Hr(2,[{provide:Iy,useValue:0},{provide:s_,multi:!0,deps:[vn],useFactory:e=>{const n=e.get(kH,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Yt),o=e.get(vM);hM(i,()=>{r(!0)}),e.get(Ph).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const DM=new B("");let CM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-home"]],decls:1,vars:0,consts:[["src","../../../assets/isetR1.jpg",2,"width","100%","padding","5px"]],template:function(r,i){1&r&&sn(0,"img",0)},styles:["body[_ngcontent-%COMP%]{background-image:url(isetR1.9102d9379678a6a5.jpg)}"]})}return t})();function TM(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function O(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){TM(o,r,i,s,a,"next",u)}function a(u){TM(o,r,i,s,a,"throw",u)}s(void 0)})}}const AM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},bM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new jz;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vh=function(t){return function(t){const e=AM(t);return bM.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Oh=()=>{try{return function Gz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return bM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},RM=()=>{var t;return null===(t=Oh())||void 0===t?void 0:t.config};class MM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}class js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xM.prototype.create)}}class xM{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function t5(t,e){return t.replace(n5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new js(i,`${this.serviceName}: ${s} (${i}).`,r)}}const n5=/\{\$([^}]+)}/g;function Cy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(NM(o)&&NM(s)){if(!Cy(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function NM(t){return null!==t&&"object"==typeof t}function sc(t){return t&&t._delegate?t._delegate:t}class ac{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const io="[DEFAULT]";class l5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function h5(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return O(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===io?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class f5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const by=[];var he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{});const VM={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},p5=he.INFO,g5={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},m5=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=g5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class OM{constructor(e){this.name=e,this._logLevel=p5,this._logHandler=m5,this._userLogHandler=null,by.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?VM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const _5=(t,e)=>e.some(n=>t instanceof n);let FM,kM;const LM=new WeakMap,Sy=new WeakMap,BM=new WeakMap,Ry=new WeakMap,My=new WeakMap;let xy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Sy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||BM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function C5(t){return"function"==typeof t?function D5(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function v5(){return kM||(kM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Py(this),e),mi(LM.get(this))}:function(...e){return mi(t.apply(Py(this),e))}:function(e,...n){const r=t.call(Py(this),e,...n);return BM.set(r,e.sort?e.sort():[e]),mi(r)}}(t):(t instanceof IDBTransaction&&function I5(t){if(Sy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Sy.set(t,e)}(t),_5(t,function y5(){return FM||(FM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,xy):t)}function mi(t){if(t instanceof IDBRequest)return function E5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(mi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LM.set(n,t)}).catch(()=>{}),My.set(e,t),e}(t);if(Ry.has(t))return Ry.get(t);const e=C5(t);return e!==t&&(Ry.set(t,e),My.set(e,t)),e}const Py=t=>My.get(t),A5=["get","getKey","getAll","getAllKeys","count"],b5=["put","add","delete","clear"],Ny=new Map;function UM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Ny.get(e))return Ny.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!A5.includes(n))return;const o=function(){var s=O(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Ny.set(e,o),o}!function w5(t){xy=t(xy)}(t=>({...t,get:(e,n,r)=>UM(e,n)||t.get(e,n,r),has:(e,n)=>!!UM(e,n)||t.has(e,n)}));class S5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function R5(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Vy="@firebase/app",oo=new OM("@firebase/app"),Lh="[DEFAULT]",t8={[Vy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},so=new Map,Bh=new Map;function n8(t,e){try{t.container.addComponent(e)}catch(n){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uh(t){const e=t.name;if(Bh.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,t);for(const n of so.values())n8(n,t);return!0}const Gr=new xM("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class i8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}function HM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Lh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=RM()),!n)throw Gr.create("no-options");const o=so.get(i);if(o){if(Cy(n,o.options)&&Cy(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}const s=new f5(i);for(const u of Bh.values())s.addComponent(u);const a=new i8(n,r,s);return so.set(i,a),a}function $s(t,e,n){var r;let i=null!==(r=t8[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void oo.warn(a.join(" "))}Uh(new ac(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const a8="firebase-heartbeat-database",u8=1,uc="firebase-heartbeat-store";let Fy=null;function GM(){return Fy||(Fy=function T5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=mi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(mi(s.result),u.oldVersion,u.newVersion,mi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(a8,u8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(uc)}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Fy}function ky(){return(ky=O(function*(t){try{return yield(yield GM()).transaction(uc).objectStore(uc).get(zM(t))}catch(e){if(e instanceof js)oo.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e?.message});oo.warn(n.message)}}})).apply(this,arguments)}function qM(t,e){return Ly.apply(this,arguments)}function Ly(){return(Ly=O(function*(t,e){try{const r=(yield GM()).transaction(uc,"readwrite");yield r.objectStore(uc).put(e,zM(t)),yield r.done}catch(n){if(n instanceof js)oo.warn(n.message);else{const r=Gr.create("idb-set",{originalErrorMessage:n?.message});oo.warn(r.message)}}})).apply(this,arguments)}function zM(t){return`${t.name}!${t.options.appId}`}class h8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return O(function*(){var n;const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=WM();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(s=>s.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return O(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=WM(),{heartbeatsToSend:i,unsentEntries:o}=function f8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),QM(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Vh(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function WM(){return(new Date).toISOString().substring(0,10)}class p8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return O(function*(){return!!function Xz(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Jz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return O(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function c8(t){return ky.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return O(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return qM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return O(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return qM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function QM(t){return Vh(JSON.stringify({version:2,heartbeats:t})).length}!function g8(t){Uh(new ac("platform-logger",e=>new S5(e),"PRIVATE")),Uh(new ac("heartbeat",e=>new h8(e),"PRIVATE")),$s(Vy,"0.9.23",t),$s(Vy,"0.9.23","esm2017"),$s("fire-js","")}(""),$s("firebase","10.6.0","app");var N,y8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kn={},By=By||{},X=y8||self;function jh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function cc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Uy="closure_uid_"+(1e9*Math.random()>>>0),E8=0;function I8(t,e,n){return t.call.apply(t.bind,arguments)}function w8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?I8:w8).apply(null,arguments)}function $h(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function _i(){this.s=this.s,this.o=this.o}_i.prototype.s=!1,_i.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function v8(t){Object.prototype.hasOwnProperty.call(t,Uy)&&t[Uy]||(t[Uy]=++E8)}(this)},_i.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function jy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function YM(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(jh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var C8=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",()=>{},e),X.removeEventListener("test",()=>{},e)}catch{}return t}();function lc(t){return/^[\s\xa0]*$/.test(t)}function Hh(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function _r(t){return-1!=Hh().indexOf(t)}function $y(t){return $y[" "](t),t}$y[" "]=function(){};var Gy,t,A8=_r("Opera"),Hs=_r("Trident")||_r("MSIE"),ZM=_r("Edge"),Hy=ZM||Hs,XM=_r("Gecko")&&!(-1!=Hh().toLowerCase().indexOf("webkit")&&!_r("Edge"))&&!(_r("Trident")||_r("MSIE"))&&!_r("Edge"),b8=-1!=Hh().toLowerCase().indexOf("webkit")&&!_r("Edge");function JM(){var t=X.document;return t?t.documentMode:void 0}e:{var qy="",zy=(t=Hh(),XM?/rv:([^\);]+)(\)|;)/.exec(t):ZM?/Edge\/([\d\.]+)/.exec(t):Hs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):b8?/WebKit\/(\S+)/.exec(t):A8?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(zy&&(qy=zy?zy[1]:""),Hs){var Wy=JM();if(null!=Wy&&Wy>parseFloat(qy)){Gy=String(Wy);break e}}Gy=qy}var S8=X.document&&Hs&&(JM()||parseInt(Gy,10))||void 0;function dc(t,e){if(kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XM){e:{try{$y(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:R8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dc.$.h.call(this)}}gt(dc,kt);var R8={2:"touch",3:"pen",4:"mouse"};dc.prototype.h=function(){dc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var hc="closure_listenable_"+(1e6*Math.random()|0),M8=0;function x8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++M8,this.fa=this.ia=!1}function Gh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ky(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function tx(t){const e={};for(const n in t)e[n]=t[n];return e}const nx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rx(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<nx.length;o++)n=nx[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function qh(t){this.src=t,this.g={},this.h=0}function Yy(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=KM(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Gh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Zy(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}qh.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Zy(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new x8(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var Xy="closure_lm_"+(1e6*Math.random()|0),Jy={};function ix(t,e,n,r,i){if(r&&r.once)return sx(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ix(t,e[o],n,r,i);return null}return n=rv(n),t&&t[hc]?t.O(e,n,cc(r)?!!r.capture:!!r,i):ox(t,e,n,!1,r,i)}function ox(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=cc(i)?!!i.capture:!!i,a=tv(t);if(a||(t[Xy]=a=new qh(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function N8(){const e=V8;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)C8||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ux(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function sx(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sx(t,e[o],n,r,i);return null}return n=rv(n),t&&t[hc]?t.P(e,n,cc(r)?!!r.capture:!!r,i):ox(t,e,n,!0,r,i)}function ax(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ax(t,e[o],n,r,i);else r=cc(r)?!!r.capture:!!r,n=rv(n),t&&t[hc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Zy(o=t.g[e],n,r,i))&&(Gh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=tv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zy(e,n,r,i)),(n=-1<t?e[t]:null)&&ev(n))}function ev(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[hc])Yy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ux(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tv(e))?(Yy(n,t),0==n.h&&(n.src=null,e[Xy]=null)):Gh(t)}}}function ux(t){return t in Jy?Jy[t]:Jy[t]="on"+t}function V8(t,e){if(t.fa)t=!0;else{e=new dc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ev(t),t=n.call(r,e)}return t}function tv(t){return(t=t[Xy])instanceof qh?t:null}var nv="__closure_events_fn_"+(1e9*Math.random()>>>0);function rv(t){return"function"==typeof t?t:(t[nv]||(t[nv]=function(e){return t.handleEvent(e)}),t[nv])}function mt(){_i.call(this),this.i=new qh(this),this.S=this,this.J=null}function At(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new kt(e,t);else if(e instanceof kt)e.target=e.target||t;else{var i=e;rx(e=new kt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=zh(s,r,!0,e)&&i}if(i=zh(s=e.g=t,r,!0,e)&&i,i=zh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=zh(s=e.g=n[o],r,!1,e)&&i}function zh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&Yy(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}gt(mt,_i),mt.prototype[hc]=!0,mt.prototype.removeEventListener=function(t,e,n,r){ax(this,t,e,n,r)},mt.prototype.N=function(){if(mt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gh(n[r]);delete t.g[e],t.h--}}this.J=null},mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var iv=X.JSON.stringify;function F8(){var t=ov;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var cx=new class O8{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new L8,t=>t.reset());class L8{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function B8(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function U8(t){X.setTimeout(()=>{throw t},0)}let fc,pc=!1,ov=new class k8{constructor(){this.h=this.g=null}add(e,n){const r=cx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},lx=()=>{const t=X.Promise.resolve(void 0);fc=()=>{t.then(j8)}};var j8=()=>{for(var t;t=F8();){try{t.h.call(t.g)}catch(n){U8(n)}var e=cx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}pc=!1};function Wh(t,e){mt.call(this),this.h=t||1,this.g=e||X,this.j=Ft(this.qb,this),this.l=Date.now()}function sv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function av(t,e,n){if("function"==typeof t)n&&(t=Ft(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ft(t.handleEvent,t)}return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function dx(t){t.g=av(()=>{t.g=null,t.i&&(t.i=!1,dx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}gt(Wh,mt),(N=Wh.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),At(this,"tick"),this.ga&&(sv(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Wh.$.N.call(this),sv(this),delete this.g};class $8 extends _i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dx(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gc(t){_i.call(this),this.h=t,this.g={}}gt(gc,_i);var hx=[];function fx(t,e,n,r){Array.isArray(n)||(n&&(hx[0]=n.toString()),n=hx);for(var i=0;i<n.length;i++){var o=ix(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function px(t){Ky(t.g,function(e,n){this.g.hasOwnProperty(n)&&ev(e)},t),t.g={}}function Qh(){this.g=!0}function Gs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function z8(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return iv(n)}catch{return e}}(t,n)+(r?" "+r:"")})}gc.prototype.N=function(){gc.$.N.call(this),px(this)},gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qh.prototype.Ea=function(){this.g=!1},Qh.prototype.info=function(){};var ao={},gx=null;function Kh(){return gx=gx||new mt}function mx(t){kt.call(this,ao.Ta,t)}function mc(t){const e=Kh();At(e,new mx(e))}function _x(t,e){kt.call(this,ao.STAT_EVENT,t),this.stat=e}function Zt(t){const e=Kh();At(e,new _x(e,t))}function yx(t,e){kt.call(this,ao.Ua,t),this.size=e}function _c(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}ao.Ta="serverreachability",gt(mx,kt),ao.STAT_EVENT="statevent",gt(_x,kt),ao.Ua="timingevent",gt(yx,kt);var Yh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uv(){}function Ix(){}uv.prototype.h=null;var dv,yc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cv(){kt.call(this,"d")}function lv(){kt.call(this,"c")}function Zh(){}function vc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new gc(this),this.P=W8,this.V=new Wh(t=Hy?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wx}function wx(){this.i=null,this.g="",this.h=!1}gt(cv,kt),gt(lv,kt),gt(Zh,uv),Zh.prototype.g=function(){return new XMLHttpRequest},Zh.prototype.i=function(){return{}},dv=new Zh;var W8=45e3,hv={},Xh={};function fv(t,e,n){t.L=1,t.v=nf(qr(e)),t.s=n,t.S=!0,Dx(t,null)}function Dx(t,e){t.G=Date.now(),Ec(t),t.A=qr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Nx(n.i,"t",r),t.C=0,n=t.l.J,t.h=new wx,t.g=rP(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $8(Ft(t.Pa,t,t.g),t.O)),fx(t.U,t.g,"readystatechange",t.nb),e=t.I?tx(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),mc(),function H8(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Cx(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Tx(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Q8(t,n),i==Xh){4==e&&(t.o=4,Zt(14),r=!1),Gs(t.j,t.m,null,"[Incomplete Response]");break}if(i==hv){t.o=4,Zt(15),Gs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Gs(t.j,t.m,i,null),pv(t,i)}Cx(t)&&i!=Xh&&i!=hv&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Zt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iv(e),e.M=!0,Zt(11))):(Gs(t.j,t.m,n,"[Invalid Chunked Response]"),uo(t),Ic(t))}function Q8(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Xh:(n=Number(e.substring(n,r)),isNaN(n)?hv:(r+=1)+n>e.length?Xh:(e=e.slice(r,r+n),t.C=r+n,e))}function Ec(t){t.Y=Date.now()+t.P,Ax(t,t.P)}function Ax(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=_c(Ft(t.lb,t),e)}function Jh(t){t.B&&(X.clearTimeout(t.B),t.B=null)}function Ic(t){0==t.l.H||t.J||Jx(t.l,t)}function uo(t){Jh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,sv(t.V),px(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function pv(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||gv(n.i,t)))if(!t.K&&gv(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;lf(n),uf(n)}Ev(n),Zt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=_c(Ft(n.ib,n),6e3));if(1>=Fx(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else lo(n,11)}else if((t.K||n.g==t)&&lf(n),!lc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(mv(o,o.h),o.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Fe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=nP(r,r.J?r.pa:null,r.Y),s.K){kx(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.B&&(Jh(a),Ec(a)),r.g=s}else Zx(r);0<n.j.length&&cf(n)}else"stop"!=c[0]&&"close"!=c[0]||lo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?lo(n,7):vv(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}mc()}catch{}}function bx(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(jh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Y8(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(jh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function K8(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(jh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(N=vc.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==yr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=yr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Hy||this.g&&(this.h.h||this.g.ja()||qx(this.g)))){this.J||4!=l||7==e||mc(),Jh(this);var n=this.g.da();this.ca=n;t:if(Cx(this)){var r=qx(this.g);t="";var i=r.length,o=4==yr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uo(this),Ic(this);var s="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function G8(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Zt(12),uo(this),Ic(this);break e}Gs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pv(this,n)}this.S?(Tx(this,l,s),Hy&&this.i&&3==l&&(fx(this.U,this.V,"tick",this.mb),this.V.start())):(Gs(this.j,this.m,s,null),pv(this,s)),4==l&&uo(this),this.i&&!this.J&&(4==l?Jx(this.l,this):(this.i=!1,Ec(this)))}else(function p7(t){const e={};t=(t.g&&2<=yr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(lc(t[r]))continue;var n=B8(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function P8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Zt(12)):(this.o=0,Zt(13)),uo(this),Ic(this)}}}catch{}},N.mb=function(){if(this.g){var t=yr(this.g),e=this.g.ja();this.C<e.length&&(Jh(this),Tx(this,t,e),this.i&&4!=t&&Ec(this))}},N.cancel=function(){this.J=!0,uo(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function q8(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(mc(),Zt(17)),uo(this),this.o=2,Ic(this)):Ax(this,this.Y-t)};var Sx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof co){this.h=t.h,ef(this,t.j),this.s=t.s,this.g=t.g,tf(this,t.m),this.l=t.l;var e=t.i,n=new Cc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Rx(this,n),this.o=t.o}else t&&(e=String(t).match(Sx))?(this.h=!1,ef(this,e[1]||"",!0),this.s=wc(e[2]||""),this.g=wc(e[3]||"",!0),tf(this,e[4]),this.l=wc(e[5]||"",!0),Rx(this,e[6]||"",!0),this.o=wc(e[7]||"")):(this.h=!1,this.i=new Cc(null,this.h))}function qr(t){return new co(t)}function ef(t,e,n){t.j=n?wc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Rx(t,e,n){e instanceof Cc?(t.i=e,function r7(t,e){e&&!t.j&&(yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(xx(this,r),Nx(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Dc(e,t7)),t.i=new Cc(e,t.h))}function Fe(t,e,n){t.i.set(e,n)}function nf(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,X8),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function X8(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}co.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Dc(e,Mx,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Dc(e,Mx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dc(n,"/"==n.charAt(0)?e7:J8,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Dc(n,n7)),t.join("")};var Mx=/[#\/\?@]/g,J8=/[#\?:]/g,e7=/[#\?]/g,t7=/[#\?@]/g,n7=/#/g;function Cc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yi(t){t.g||(t.g=new Map,t.h=0,t.i&&function Z8(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function xx(t,e){yi(t),e=qs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Px(t,e){return yi(t),e=qs(t,e),t.g.has(e)}function Nx(t,e,n){xx(t,e),0<n.length&&(t.i=null,t.g.set(qs(t,e),jy(n)),t.h+=n.length)}function qs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Vx(t){this.l=t||o7,t=X.PerformanceNavigationTiming?0<(t=X.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Cc.prototype).add=function(t,e){yi(this),this.i=null,t=qs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){yi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},N.Z=function(t){yi(this);let e=[];if("string"==typeof t)Px(this,t)&&(e=e.concat(this.g.get(qs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return yi(this),this.i=null,Px(this,t=qs(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var o7=10;function Ox(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Fx(t){return t.h?1:t.g?t.g.size:0}function gv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function mv(t,e){t.g?t.g.add(e):t.h=e}function kx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Lx(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return jy(t.i)}Vx.prototype.cancel=function(){if(this.i=Lx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var s7=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function a7(){this.g=new s7}function u7(t,e,n){const r=n||"";try{bx(t,function(i,o){let s=i;cc(i)&&(s=iv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Tc(t){this.l=t.ec||null,this.j=t.ob||!1}function sf(t,e){mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=_v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(Tc,uv),Tc.prototype.g=function(){return new sf(this.l,this.j)},Tc.prototype.i=function(t){return function(){return t}}({}),gt(sf,mt);var _v=0;function Bx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Ac(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bc(t)}function bc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=sf.prototype).open=function(t,e){if(this.readyState!=_v)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bc(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ac(this)),this.readyState=_v},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bc(this)),this.g&&(this.readyState=3,bc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ac(this):bc(this),3==this.readyState&&Bx(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Ac(this))},N.Ya=function(t){this.g&&(this.response=t,Ac(this))},N.ka=function(){this.g&&Ac(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(sf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var l7=X.JSON.parse;function We(t){mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ux,this.L=this.M=!1}gt(We,mt);var Ux="",d7=/^https?$/i,h7=["POST","PUT"];function jx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$x(t),af(t)}function $x(t){t.F||(t.F=!0,At(t,"complete"),At(t,"error"))}function Hx(t){if(t.h&&typeof By<"u"&&(!t.C[1]||4!=yr(t)||2!=t.da()))if(t.v&&4==yr(t))av(t.La,0,t);else if(At(t,"readystatechange"),4==yr(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(Sx)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!d7.test(i?i.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var o=2<yr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",$x(t)}}finally{af(t)}}}function af(t,e){if(t.g){Gx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch{}}}function Gx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}function yr(t){return t.g?t.g.readyState:0}function qx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ux:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function zx(t){let e="";return Ky(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function yv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zx(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function Sc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wx(t){this.Ga=0,this.j=[],this.l=new Qh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sc("baseRetryDelayMs",5e3,t),this.hb=Sc("retryDelaySeedMs",1e4,t),this.eb=Sc("forwardChannelMaxRetries",2,t),this.xa=Sc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Vx(t&&t.concurrentRequestLimit),this.Ja=new a7,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vv(t){if(Qx(t),3==t.H){var e=t.W++,n=qr(t.I);if(Fe(n,"SID",t.K),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Rc(t,n),(e=new vc(t,t.l,e)).L=2,e.v=nf(qr(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&X.Image&&((new Image).src=e.v,n=!0),n||(e.g=rP(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ec(e)}tP(t)}function uf(t){t.g&&(Iv(t),t.g.cancel(),t.g=null)}function Qx(t){uf(t),t.u&&(X.clearTimeout(t.u),t.u=null),lf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&X.clearTimeout(t.m),t.m=null)}function cf(t){if(!Ox(t.i)&&!t.m){t.m=!0;var e=t.Na;fc||lx(),pc||(fc(),pc=!0),ov.add(e,t),t.C=0}}function Kx(t,e){var n;n=e?e.m:t.W++;const r=qr(t.I);Fe(r,"SID",t.K),Fe(r,"RID",n),Fe(r,"AID",t.V),Rc(t,r),t.o&&t.s&&yv(r,t.o,t.s),n=new vc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Yx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),mv(t.i,n),fv(n,r,e)}function Rc(t,e){t.na&&Ky(t.na,function(n,r){Fe(e,r,n)}),t.h&&bx({},function(n,r){Fe(e,r,n)})}function Yx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ft(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{u7(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Zx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;fc||lx(),pc||(fc(),pc=!0),ov.add(e,t),t.A=0}}function Ev(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=_c(Ft(t.Ma,t),eP(t,t.A)),t.A++,0))}function Iv(t){null!=t.B&&(X.clearTimeout(t.B),t.B=null)}function Xx(t){t.g=new vc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=qr(t.wa);Fe(e,"RID","rpc"),Fe(e,"SID",t.K),Fe(e,"AID",t.V),Fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Fe(e,"TO",t.qa),Fe(e,"TYPE","xmlhttp"),Rc(t,e),t.o&&t.s&&yv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=nf(qr(e)),n.s=null,n.S=!0,Dx(n,t)}function lf(t){null!=t.v&&(X.clearTimeout(t.v),t.v=null)}function Jx(t,e){var n=null;if(t.g==e){lf(t),Iv(t),t.g=null;var r=2}else{if(!gv(t.i,e))return;n=e.F,kx(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;At(r=Kh(),new yx(r,n)),cf(t)}else Zx(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function g7(t,e){return!(Fx(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=_c(Ft(t.Na,t,e),eP(t,t.C)),t.C++,0)))}(t,e)||2==r&&Ev(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:lo(t,5);break;case 4:lo(t,10);break;case 3:lo(t,6);break;default:lo(t,2)}}function eP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function lo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ft(t.pb,t);n||(n=new co("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||ef(n,"https"),nf(n)),function c7(t,e){const n=new Qh;if(X.Image){const r=new Image;r.onload=$h(rf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=$h(rf,n,r,"TestLoadImage: error",!1,e),r.onabort=$h(rf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=$h(rf,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.H=0,t.h&&t.h.za(e),tP(t),Qx(t)}function tP(t){if(t.H=0,t.ma=[],t.h){const e=Lx(t.i);(0!=e.length||0!=t.j.length)&&(YM(t.ma,e),YM(t.ma,t.j),t.i.i.length=0,jy(t.j),t.j.length=0),t.h.ya()}}function nP(t,e,n){var r=n instanceof co?qr(n):new co(n);if(""!=r.g)e&&(r.g=e+"."+r.g),tf(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new co(null);r&&ef(o,r),e&&(o.g=e),i&&tf(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Fe(r,n,e),Fe(r,"VER",t.ra),Rc(t,r),r}function rP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new We(n&&t.Ha&&!t.va?new Tc({ob:!0}):t.va)).Oa(t.J),e}function iP(){}function df(){if(Hs&&!(10<=Number(S8)))throw Error("Environmental error: no available transport.")}function wn(t,e){mt.call(this),this.g=new Wx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!lc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new zs(this)}function oP(t){cv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function sP(){lv.call(this),this.status=1}function zs(t){this.g=t}function Yn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wv(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(N=We.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dv.g(),this.C=function Ex(t){return t.h||(t.h=t.i())}(this.u?this.u:dv),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void jx(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=X.FormData&&t instanceof X.FormData,!(0<=KM(h7,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gx(this),0<this.B&&((this.L=function f7(t){return Hs&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=av(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){jx(this,o)}},N.ua=function(){typeof By<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),af(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),af(this,!0)),We.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?Hx(this):this.kb())},N.kb=function(){Hx(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),l7(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=Wx.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new vc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=tx(o),rx(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Yx(this,i,e),Fe(n=qr(this.I),"RID",t),Fe(n,"CVER",22),this.F&&Fe(n,"X-HTTP-Session-Id",this.F),Rc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(zx(o)))+"&"+e:this.o&&yv(n,this.o,o)),mv(this.i,i),this.bb&&Fe(n,"TYPE","init"),this.P?(Fe(n,"$req",e),Fe(n,"SID","null"),i.aa=!0,fv(i,n,null)):fv(i,n,e),this.H=2}}else 3==this.H&&(t?Kx(this,t):0==this.j.length||Ox(this.i)||Kx(this))},N.Ma=function(){if(this.u=null,Xx(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_c(Ft(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zt(10),uf(this),Xx(this))},N.ib=function(){null!=this.v&&(this.v=null,uf(this),Ev(this),Zt(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zt(2)):(this.l.info("Failed to ping google.com"),Zt(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=iP.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},df.prototype.g=function(t,e){return new wn(t,e)},gt(wn,mt),wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nP(t,null,t.Y),cf(t)},wn.prototype.close=function(){vv(this.g)},wn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=iv(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&cf(e)},wn.prototype.N=function(){this.g.h=null,delete this.j,vv(this.g),delete this.g,wn.$.N.call(this)},gt(oP,cv),gt(sP,lv),gt(zs,iP),zs.prototype.Ba=function(){At(this.g,"a")},zs.prototype.Aa=function(t){At(this.g,new oP(t))},zs.prototype.za=function(t){At(this.g,new sP)},zs.prototype.ya=function(){At(this.g,"b")},gt(Yn,function m7(){this.blockSize=-1}),Yn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)wv(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){wv(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){wv(this,r),i=0;break}}this.h=i,this.i+=e},Yn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var _7={};function Dv(t){return-128<=t&&128>t?function T8(t,e){var n=_7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ee([0|e],0>e?-1:0)}):new Ee([0|t],0>t?-1:0)}function vr(t){if(isNaN(t)||!isFinite(t))return Ws;if(0>t)return bt(vr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Cv;return new Ee(e,0)}var Cv=4294967296,Ws=Dv(0),Tv=Dv(1),uP=Dv(16777216);function zr(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Fn(t){return-1==t.h}function bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(Tv)}function hf(t,e){return t.add(bt(e))}function ff(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Mc(t,e){this.g=t,this.h=e}function pf(t,e){if(zr(e))throw Error("division by zero");if(zr(t))return new Mc(Ws,Ws);if(Fn(t))return e=pf(bt(t),e),new Mc(bt(e.g),bt(e.h));if(Fn(e))return e=pf(t,bt(e)),new Mc(bt(e.g),e.h);if(30<t.g.length){if(Fn(t)||Fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Tv,r=e;0>=r.X(t);)n=cP(n),r=cP(r);var i=Qs(n,1),o=Qs(r,1);for(r=Qs(r,2),n=Qs(n,2);!zr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Qs(r,1),n=Qs(n,1)}return e=hf(t,i.R(e)),new Mc(i,e)}for(i=Ws;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=vr(n)).R(e);Fn(s)||0<s.X(t);)s=(o=vr(n-=r)).R(e);zr(o)&&(o=Tv),i=i.add(o),t=hf(t,s)}return new Mc(i,t)}function cP(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Qs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ee(i,t.h)}(N=Ee.prototype).ea=function(){if(Fn(this))return-bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Cv+r)*e,e*=Cv}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(zr(this))return"0";if(Fn(this))return"-"+bt(this).toString(t);for(var e=vr(Math.pow(t,6)),n=this,r="";;){var i=pf(n,e).g,o=((0<(n=hf(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(zr(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return Fn(t=hf(this,t))?-1:zr(t)?0:1},N.abs=function(){return Fn(this)?bt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Ee(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(zr(this)||zr(t))return Ws;if(Fn(this))return Fn(t)?bt(this).R(bt(t)):bt(bt(this).R(t));if(Fn(t))return bt(this.R(bt(t)));if(0>this.X(uP)&&0>t.X(uP))return vr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,ff(n,2*r+2*i),n[2*r+2*i+1]+=o*u,ff(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,ff(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,ff(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)},N.gb=function(t){return pf(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)},df.prototype.createWebChannel=df.prototype.g,wn.prototype.send=wn.prototype.u,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Yh.NO_ERROR=0,Yh.TIMEOUT=8,Yh.HTTP_ERROR=6,vx.COMPLETE="complete",Ix.EventType=yc,yc.OPEN="a",yc.CLOSE="b",yc.ERROR="c",yc.MESSAGE="d",mt.prototype.listen=mt.prototype.O,We.prototype.listenOnce=We.prototype.P,We.prototype.getLastError=We.prototype.Sa,We.prototype.getLastErrorCode=We.prototype.Ia,We.prototype.getStatus=We.prototype.da,We.prototype.getResponseJson=We.prototype.Wa,We.prototype.getResponseText=We.prototype.ja,We.prototype.send=We.prototype.ha,We.prototype.setWithCredentials=We.prototype.Oa,Yn.prototype.digest=Yn.prototype.l,Yn.prototype.reset=Yn.prototype.reset,Yn.prototype.update=Yn.prototype.j,Ee.prototype.add=Ee.prototype.add,Ee.prototype.multiply=Ee.prototype.R,Ee.prototype.modulo=Ee.prototype.gb,Ee.prototype.compare=Ee.prototype.X,Ee.prototype.toNumber=Ee.prototype.ea,Ee.prototype.toString=Ee.prototype.toString,Ee.prototype.getBits=Ee.prototype.D,Ee.fromNumber=vr,Ee.fromString=function aP(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return bt(aP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vr(Math.pow(e,8)),r=Ws,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=vr(Math.pow(e,o)),r=r.R(o).add(vr(s))):r=(r=r.R(n)).add(vr(s))}return r};var y7=Kn.createWebChannelTransport=function(){return new df},v7=Kn.getStatEventTarget=function(){return Kh()},Av=Kn.ErrorCode=Yh,E7=Kn.EventType=vx,I7=Kn.Event=ao,lP=Kn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},w7=Kn.FetchXmlHttpFactory=Tc,gf=Kn.WebChannel=Ix,D7=Kn.XhrIo=We,C7=Kn.Md5=Yn,Ks=Kn.Integer=Ee;const dP="@firebase/firestore";class _t{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");let Ys="10.5.2";const vi=new OM("@firebase/firestore");function Zs(){return vi.logLevel}function T(t,...e){if(vi.logLevel<=he.DEBUG){const n=e.map(bv);vi.debug(`Firestore (${Ys}): ${t}`,...n)}}function Xe(t,...e){if(vi.logLevel<=he.ERROR){const n=e.map(bv);vi.error(`Firestore (${Ys}): ${t}`,...n)}}function Dn(t,...e){if(vi.logLevel<=he.WARN){const n=e.map(bv);vi.warn(`Firestore (${Ys}): ${t}`,...n)}}function bv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+t;throw Xe(e),new Error(e)}function U(t,e){t||F()}function x(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class A7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b7{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new lt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(O(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new hP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new _t(e)}}class S7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new S7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,T("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.R=n.token,new fP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function x7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pP{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=x7(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function Xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new He(0,0))}static max(){return new j(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xc{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===xc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends xc{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}const P7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ue extends xc{construct(e,n,r){return new Ue(e,n,r)}static isValidIdentifier(e){return P7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ue.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ue(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new A(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new A(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new A(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ue(n)}static emptyPath(){return new Ue([])}}class P{constructor(e){this.path=e}static fromPath(e){return new P(le.fromString(e))}static fromName(e){return new P(le.fromString(e).popFirst(5))}static empty(){return new P(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===le.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new le(e.slice()))}}function _P(t){return new Cn(t.readTime,t.key,-1)}class Cn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cn(j.min(),P.empty(),-1)}static max(){return new Cn(j.max(),P.empty(),-1)}}function Rv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=P.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}const yP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ei(t){return Mv.apply(this,arguments)}function Mv(){return Mv=O(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==yP)throw t;T("LocalStore","Unexpectedly lost primary lease")}),Mv.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,r)=>{n(e)})}static reject(e){return new y((n,r)=>{r(e)})}static waitFor(e){return new y((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=y.resolve(!1);for(const r of e)n=n.next(i=>i?y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new y((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new y((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Ii(t){return"IndexedDbTransactionError"===t.name}let Tn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Nc(t){return null==t}function Vc(t){return 0===t&&1/t==-1/0}function bP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ne{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??St.RED,this.left=i??St.EMPTY,this.right=o??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new St(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return St.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1,St.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(e,n,r,i,o){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class De{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RP(this.data.getIterator())}getIteratorFrom(e){return new RP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class RP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ln{constructor(e){this.fields=e,e.sort(Ue.comparator)}static empty(){return new ln([])}unionWith(e){let n=new De(Ue.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class MP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MP("Invalid base64 string: "+o):o}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const iW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(U(!!t),"string"==typeof t){let e=0;const n=iW.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wr(t){return"string"==typeof t?dt.fromBase64String(t):dt.fromUint8Array(t)}function vf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ef(t){const e=t.mapValue.fields.__previous_value__;return vf(e)?Ef(e):e}function Oc(t){const e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}class oW{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class go{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new go("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}const Ci={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vf(t)?4:VP(t)?9007199254740991:10:F()}function Ir(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Di(i.timestampValue),a=Di(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Wr(t.bytesValue).isEqual(Wr(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Qe(i.geoPointValue.latitude)===Qe(o.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qe(i.integerValue)===Qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Qe(i.doubleValue),a=Qe(o.doubleValue);return s===a?Vc(s)===Vc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(bP(s)!==bP(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Ir(s[u],a[u])))return!1;return!0}(t,e);default:return F()}var o}function Fc(t,e){return void 0!==(t.values||[]).find(n=>Ir(n,e))}function Ai(t,e){if(t===e)return 0;const n=Ti(t),r=Ti(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Qe(o.integerValue||o.doubleValue),u=Qe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return xP(t.timestampValue,e.timestampValue);case 4:return xP(Oc(t),Oc(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Wr(o),u=Wr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=K(a[c],u[c]);if(0!==l)return l}return K(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=K(Qe(o.latitude),Qe(s.latitude));return 0!==a?a:K(Qe(o.longitude),Qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=Ai(a[c],u[c]);if(l)return l}return K(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ci.mapValue&&s===Ci.mapValue)return 0;if(o===Ci.mapValue)return 1;if(s===Ci.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=K(u[d],l[d]);if(0!==h)return h;const f=Ai(a[u[d]],c[l[d]]);if(0!==f)return f}return K(u.length,l.length)}(t.mapValue,e.mapValue);default:throw F()}}function xP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=Di(t),r=Di(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function na(t){return Nv(t)}function Nv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wr(t.bytesValue).toBase64():"referenceValue"in t?P.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Nv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Nv(n.fields[s])}`;return i+"}"}(t.mapValue):F()}function Vv(t){return!!t&&"integerValue"in t}function kc(t){return!!t&&"arrayValue"in t}function PP(t){return!!t&&"nullValue"in t}function NP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VP(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=Ue.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Lc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Df(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rt(Lc(this.value))}}function kP(t){const e=[];return wi(t.fields,(n,r)=>{const i=new Ue([n]);if(Df(r)){const o=kP(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ln(e)}class ke{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ke(e,0,j.min(),j.min(),j.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new ke(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new ke(e,2,n,j.min(),j.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new ke(e,3,n,j.min(),j.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bi{constructor(e,n){this.position=e,this.inclusive=n}}function LP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?P.comparator(P.fromName(s.referenceValue),n.key):Ai(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function BP(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}class Bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function uW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class UP{}class se extends UP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new cW(e,n,r):"array-contains"===n?new hW(e,r):"in"===n?new zP(e,r):"not-in"===n?new fW(e,r):"array-contains-any"===n?new pW(e,r):new se(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new lW(e,r):new dW(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ai(n,this.value)):null!==n&&Ti(this.value)===Ti(n)&&this.matchesComparison(Ai(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ie extends UP{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ie(e,n)}matches(e){return ra(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ra(t){return"and"===t.op}function Fv(t){return function jP(t){for(const e of t.filters)if(e instanceof Ie)return!1;return!0}(t)&&ra(t)}function kv(t){if(t instanceof se)return t.field.canonicalString()+t.op.toString()+na(t.value);if(Fv(t))return t.filters.map(e=>kv(e)).join(",");{const e=t.filters.map(n=>kv(n)).join(",");return`${t.op}(${e})`}}function $P(t,e){return t instanceof se?(r=t,(i=e)instanceof se&&r.op===i.op&&r.field.isEqual(i.field)&&Ir(r.value,i.value)):t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&$P(s,i.filters[a]),!0)}(t,e):void F();var r,i}function GP(t){return t instanceof se?`${(n=t).field.canonicalString()} ${n.op} ${na(n.value)}`:t instanceof Ie?function(n){return n.op.toString()+" {"+n.getFilters().map(GP).join(" ,")+"}"}(t):"Filter";var n}class cW extends se{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){const n=P.comparator(e.key,this.key);return this.matchesComparison(n)}}class lW extends se{constructor(e,n){super(e,"in",n),this.keys=qP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dW extends se{constructor(e,n){super(e,"not-in",n),this.keys=qP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}class hW extends se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kc(n)&&Fc(n.arrayValue,this.value)}}class zP extends se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Fc(this.value.arrayValue,n)}}class fW extends se{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Fc(this.value.arrayValue,n)}}class pW extends se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fc(this.value.arrayValue,r))}}class gW{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function Lv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new gW(t,e,n,r,i,o,s)}function _o(t){const e=x(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Nc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.ce=n}return e.ce}function Uc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$P(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BP(t.startAt,e.startAt)&&BP(t.endAt,e.endAt)}function Cf(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Qr{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function ia(t){return new Qr(t)}function YP(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function oa(t){const e=x(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new De(Ue.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Bc(o,r))}),n.has(Ue.keyField().canonicalString())||e.le.push(new Bc(Ue.keyField(),r))}return e.le}function Xt(t){const e=x(t);return e.he||(e.he=function ZP(t,e){if("F"===t.limitType)return Lv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Bc(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new bi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bi(t.startAt.position,t.startAt.inclusive):null;return Lv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,oa(t))),e.he}function Af(t,e,n){return new Qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jc(t,e){return Uc(Xt(t),Xt(e))&&t.limitType===e.limitType}function XP(t){return`${_o(Xt(t))}|lt:${t.limitType}`}function sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GP(i)).join(", ")}]`),Nc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>na(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>na(i)).join(",")),`Target(${r})`}(Xt(t))}; limitType=${t.limitType})`}function $c(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):P.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of oa(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=LP(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,oa(r),i)||r.endAt&&!function(s,a,u){const c=LP(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,oa(r),i)));var r,i}function e1(t){return(e,n)=>{let r=!1;for(const i of oa(t)){const o=mW(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function mW(t,e,n){const r=t.field.isKeyField()?P.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?Ai(u,c):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Kr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return SP(this.inner)}size(){return this.innerSize}}const _W=new Ne(P.comparator);function dn(){return _W}const t1=new Ne(P.comparator);function Hc(...t){let e=t1;for(const n of t)e=e.insert(n.key,n);return e}function n1(t){let e=t1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wr(){return Gc()}function r1(){return Gc()}function Gc(){return new Kr(t=>t.toString(),(t,e)=>t.isEqual(e))}const yW=new Ne(P.comparator),vW=new De(P.comparator);function re(...t){let e=vW;for(const n of t)e=e.add(n);return e}const EW=new De(K);function i1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function o1(t){return{integerValue:""+t}}function s1(t,e){return function EP(t){return"number"==typeof t&&Number.isInteger(t)&&!Vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?o1(e):i1(t,e)}class bf{constructor(){this._=void 0}}function IW(t,e,n){return t instanceof aa?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vf(o)&&(o=Ef(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof yo?u1(t,e):t instanceof vo?c1(t,e):function(i,o){const s=a1(i,o),a=l1(s)+l1(i.Ie);return Vv(s)&&Vv(i.Ie)?o1(a):i1(i.serializer,a)}(t,e)}function wW(t,e,n){return t instanceof yo?u1(t,e):t instanceof vo?c1(t,e):n}function a1(t,e){return t instanceof ua?Vv(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class aa extends bf{}class yo extends bf{constructor(e){super(),this.elements=e}}function u1(t,e){const n=d1(e);for(const r of t.elements)n.some(i=>Ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class vo extends bf{constructor(e){super(),this.elements=e}}function c1(t,e){let n=d1(e);for(const r of t.elements)n=n.filter(i=>!Ir(i,r));return{arrayValue:{values:n}}}class ua extends bf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function l1(t){return Qe(t.integerValue||t.doubleValue)}function d1(t){return kc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class CW{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Rf{}function h1(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new la(t.key,je.none()):new ca(t.key,t.data,je.none());{const n=t.data,r=Rt.empty();let i=new De(Ue.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Yr(t.key,r,new ln(i.toArray()),je.none())}}function TW(t,e,n){t instanceof ca?function(i,o,s){const a=i.value.clone(),u=g1(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yr?function(i,o,s){if(!Sf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=g1(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(p1(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function zc(t,e,n,r){return t instanceof ca?function(o,s,a,u){if(!Sf(o.precondition,s))return a;const c=o.value.clone(),l=m1(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yr?function(o,s,a,u){if(!Sf(o.precondition,s))return a;const c=m1(o.fieldTransforms,u,s),l=s.data;return l.setAll(p1(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Sf(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function AW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=a1(r.transform,i||null);null!=o&&(null===n&&(n=Rt.empty()),n.set(r.field,o))}return n||null}function f1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Xs(r,i,(o,s)=>function DW(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof yo&&i instanceof yo||r instanceof vo&&i instanceof vo?Xs(r.elements,i.elements,Ir):r instanceof ua&&i instanceof ua?Ir(r.Ie,i.Ie):r instanceof aa&&i instanceof aa);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class ca extends Rf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yr extends Rf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function p1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function g1(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,wW(s,a,n[i]))}return r}function m1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,IW(o,s,e))}return r}class la extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $v extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&TW(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=h1(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,r)=>f1(n,r))&&Xs(this.baseMutations,e.baseMutations,(n,r)=>f1(n,r))}}class Gv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=yW;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Gv(e,n,r,i)}}class qv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class SW{constructor(e,n){this.count=e,this.unchangedNames=n}}var ot,de;function y1(t){if(void 0===t)return Xe("GRPC error has no .code"),E.UNKNOWN;switch(t){case ot.OK:return E.OK;case ot.CANCELLED:return E.CANCELLED;case ot.UNKNOWN:return E.UNKNOWN;case ot.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case ot.INTERNAL:return E.INTERNAL;case ot.UNAVAILABLE:return E.UNAVAILABLE;case ot.UNAUTHENTICATED:return E.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case ot.NOT_FOUND:return E.NOT_FOUND;case ot.ALREADY_EXISTS:return E.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return E.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case ot.ABORTED:return E.ABORTED;case ot.OUT_OF_RANGE:return E.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return E.UNIMPLEMENTED;case ot.DATA_LOSS:return E.DATA_LOSS;default:return F()}}(de=ot||(ot={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";const RW=new Ks([4294967295,4294967295],0);function E1(t){const e=function v1(){return new TextEncoder}().encode(t),n=new C7;return n.update(e),new Uint8Array(n.digest())}function I1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([i,o],0)]}class zv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(r<0)throw new Wc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Wc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ks.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ks.fromNumber(r)));return 1===i.compare(RW)&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=E1(e),[r,i]=I1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new zv(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=E1(e),[r,i]=I1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qc(j.min(),i,new Ne(K),dn(),re())}}class Kc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kc(r,n,re(),re(),re())}}class xf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class w1{constructor(e,n){this.targetId=e,this.fe=n}}class D1{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class C1{constructor(){this.ge=0,this.pe=A1(),this.ye=dt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=re(),n=re(),r=re();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Kc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=A1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class MW{constructor(e){this.Le=e,this.ke=new Map,this.qe=dn(),this.Qe=T1(),this.Ke=new Ne(K)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Cf(o))if(0===r){const s=new P(o.path);this.We(n,s,ke.newNoDocument(s,j.min()))}else U(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Wr(r).toUint8Array()}catch(u){if(u instanceof MP)return Dn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new zv(s,i,o)}catch(u){return Dn(u instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Cf(a.target)){const u=new P(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,ke.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=re();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Qc(e,n,this.Ke,this.qe,r);return this.qe=dn(),this.Qe=T1(),this.Ke=new Ne(K),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new C1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new De(K),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new C1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function T1(){return new Ne(P.comparator)}function A1(){return new Ne(P.comparator)}const xW={asc:"ASCENDING",desc:"DESCENDING"},PW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NW={and:"AND",or:"OR"};class VW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wv(t,e){return t.useProto3Json||Nc(e)?e:{value:e}}function da(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OW(t,e){return da(t,e.toTimestamp())}function Je(t){return U(!!t),j.fromTimestamp(function(n){const r=Di(n);return new He(r.seconds,r.nanos)}(t))}function Qv(t,e){return(r=t,new le(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function S1(t){const e=le.fromString(t);return U(k1(e)),e}function Yc(t,e){return Qv(t.databaseId,e.path)}function Dr(t,e){const n=S1(e);if(n.get(1)!==t.databaseId.projectId)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(M1(n))}function Kv(t,e){return Qv(t.databaseId,e)}function Zc(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M1(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function x1(t,e,n){return{name:Yc(t,e),fields:n.value.mapValue.fields}}function N1(t,e){return{documents:[Kv(t,e.path)]}}function Zv(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Kv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Kv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return F1(Ie.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:Si((d=c).field),direction:UW(d.dir)};var d})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Wv(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function V1(t){let e=function R1(t){const e=S1(t);return 4===e.length?le.emptyPath():M1(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){const h=O1(d);return h instanceof Ie&&Fv(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(h=>{return new Bc(ha((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Nc(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new bi((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new bi(d.values||[],!d.before)}(n.endAt)),function KP(t,e,n,r,i,o,s,a){return new Qr(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function O1(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ha(n.unaryFilter.field);return se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ha(n.unaryFilter.field);return se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ha(n.unaryFilter.field);return se.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ha(n.unaryFilter.field);return se.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?se.create(ha((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ie.create(n.compositeFilter.filters.map(r=>O1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return F()}}(n.compositeFilter.op))}(t):F();var n}function UW(t){return xW[t]}function jW(t){return PW[t]}function $W(t){return NW[t]}function Si(t){return{fieldPath:t.canonicalString()}}function ha(t){return Ue.fromServerFormat(t.fieldPath)}function F1(t){return t instanceof se?function(n){if("=="===n.op){if(NP(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NAN"}};if(PP(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(NP(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NOT_NAN"}};if(PP(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Si(n.field),op:jW(n.op),value:n.value}}}(t):t instanceof Ie?function(n){const r=n.getFilters().map(i=>F1(i));return 1===r.length?r[0]:{compositeFilter:{op:$W(n.op),filters:r}}}(t):F()}function HW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function k1(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Zr{constructor(e,n,r,i,o=j.min(),s=j.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class L1{constructor(e){this.ut=e}}function Xv(t){const e=V1({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Af(e,e.limit,"L"):e}class Do{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Qe(e.integerValue));else if("doubleValue"in e){const r=Qe(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Vc(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Wr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?VP(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):F()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),P.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Do.St=new Do;class ZW{constructor(){this.on=new iE}addToCollectionParentIndex(e,n){return this.on.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Cn.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class iE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new De(le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(le.comparator)).toArray()}}new Uint8Array(0);class Bt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(41943040,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);class To{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new To(0)}static Nn(){return new To(-1)}}class rQ{constructor(){this.changes=new Kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&zc(r.mutation,i,ln.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Hc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=dn();const s=Gc(),a=Gc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Yr)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),zc(l.mutation,c,l.mutation.getFieldMask(),He.now())):s.set(c.key,ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new sQ(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Gc();let i=new Ne((s,a)=>s-a),o=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||ln.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||re()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=r1();l.forEach(h=>{if(!o.has(h)){const f=h1(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return y.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return P.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Bv(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):y.resolve(wr());let a=-1,u=o;return s.next(c=>y.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,re())).next(l=>({batchId:a,changes:n1(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(r=>{let i=Hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Hc();return this.indexManager.getCollectionParents(e,o).next(a=>y.forEach(a,u=>{const c=(d=n,h=u.child(o),new Qr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,ke.newInvalidDocument(l)))});let a=Hc();return s.forEach((u,c)=>{const l=o.get(u);void 0!==l&&zc(l.mutation,c,ln.empty(),He.now()),$c(n,c)&&(a=a.insert(u,c))}),a})}}class aQ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:Je(i.createTime)}),y.resolve();var i}getNamedQuery(e,n){return y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:Xv(i.bundledQuery),readTime:Je(i.readTime)}),y.resolve();var i}}class uQ{constructor(){this.overlays=new Ne(P.comparator),this.lr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wr();return y.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){const i=wr(),o=n.length+1,s=new P(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ne((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=wr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=wr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return y.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new qv(n,r));let o=this.lr.get(n);void 0===o&&(o=re(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class oE{constructor(){this.hr=new De(vt.Pr),this.Ir=new De(vt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new vt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new vt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new P(new le([])),r=new vt(n,e),i=new vt(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new P(new le([])),r=new vt(n,e),i=new vt(n,e+1);let o=re();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new vt(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return P.comparator(e.key,n.key)||K(e.gr,n.gr)}static Tr(e,n){return K(e.gr,n.gr)||P.comparator(e.key,n.key)}}class cQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new De(vt.Pr)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new Hv(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(s)}lookupMutationBatch(e,n){return y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(K);return n.forEach(i=>{const o=new vt(i,0),s=new vt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),y.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;P.isDocumentKey(o)||(o=o.child(""));const s=new vt(new P(o),0);let a=new De(K);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},s),y.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return y.forEach(n.mutations,i=>{const o=new vt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new vt(n,0),i=this.yr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lQ{constructor(e){this.Cr=e,this.docs=new Ne(P.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():ke.newInvalidDocument(n))}getEntries(e,n){let r=dn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ke.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=dn();const s=n.path,a=new P(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Rv(_P(l),r)<=0||(i.has(l.key)||$c(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){F()}vr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dQ(this)}getSize(e){return y.resolve(this.size)}}class dQ extends rQ{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class hQ{constructor(e){this.persistence=e,this.Fr=new Kr(n=>_o(n),Uc),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Mr=0,this.Or=new oE,this.targetCount=0,this.Nr=To.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),y.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new To(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.kn(n),y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(o).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Or.containsKey(n))}}class sE{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Tn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new hQ(this),this.indexManager=new ZW,this.remoteDocumentCache=new lQ(r=>this.referenceDelegate.Qr(r)),this.serializer=new L1(n),this.Kr=new aQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new cQ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new fQ(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class fQ extends O7{constructor(e){super(),this.currentSequenceNumber=e}}class Bf{constructor(e){this.persistence=e,this.Gr=new oE,this.zr=null}static jr(e){return new Bf(e)}get Hr(){if(this.zr)return this.zr;throw F()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Hr,r=>{const i=P.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,j.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return y.or([()=>y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class lE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=re(),i=re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new lE(e,n.fromCache,r,i)}}class gQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fN{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new gQ;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Zs()<=he.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),y.resolve()):(Zs()<=he.DEBUG&&T("QueryEngine","Query:",sa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Zs()<=he.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xt(n))):y.resolve())}zi(e,n){if(YP(n))return y.resolve(null);let r=Xt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Af(n,null,"F"),r=Xt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=re(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(n,a);return this.Zi(n,c,s,u.readTime)?this.zi(e,Af(n,null,"F")):this.Xi(e,c,n,u)}))})))}ji(e,n,r,i){return YP(n)||i.isEqual(j.min())?y.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?y.resolve(null):(Zs()<=he.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sa(n)),this.Xi(e,s,n,function mP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new He(n+1,0):new He(n,r));return new Cn(i,P.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new De(e1(e));return n.forEach((i,o)=>{$c(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Zs()<=he.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",sa(n)),this.Gi.getDocumentsMatchingQuery(e,n,Cn.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class mQ{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ne(K),this.ns=new Kr(o=>_o(o),Uc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dN(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function gN(t,e){return dE.apply(this,arguments)}function dE(){return dE=O(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=re();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),dE.apply(this,arguments)}function mN(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function vQ(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ya(t,e,n){return hE.apply(this,arguments)}function hE(){return hE=O(function*(t,e,n){const r=x(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ii(s))throw s;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),hE.apply(this,arguments)}function $f(t,e,n){const r=x(t);let i=j.min(),o=re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){const d=x(u),h=d.ns.get(l);return void 0!==h?y.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,s,Xt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:j.min(),n?o:re())).next(a=>(function EN(t,e,n){let r=t.rs.get(e)||j.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}(r,function JP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:o})))}class _E{constructor(){this.activeTargetIds=function jv(){return EW}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.eo=new _E,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new _E,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wQ{ro(e){}shutdown(){}}class CN{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qf=null;function vE(){return null===qf?qf=268435456+Math.round(2147483648*Math.random()):qf++,"0x"+qf.toString(16)}const DQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CQ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ut="WebChannelConnection";class TQ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=vE(),u=this.So(n,r);T("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(n,u,c,i).then(l=>(T("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Dn("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ys,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${DQ[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=vE();return new Promise((s,a)=>{const u=new D7;u.setWithCredentials(!0),u.listenOnce(E7.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Av.NO_ERROR:const l=u.getResponseJson();T(Ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case Av.TIMEOUT:T(Ut,`RPC '${e}' ${o} timed out`),a(new A(E.DEADLINE_EXCEEDED,"Request time out"));break;case Av.HTTP_ERROR:const d=u.getStatus();if(T(Ut,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(v)>=0?v:E.UNKNOWN}(f.status);a(new A(p,f.message))}else a(new A(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new A(E.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{T(Ut,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);T(Ut,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}vo(e,n,r){const i=vE(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=y7(),a=v7(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new w7({})),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");T(Ut,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new CQ({co:m=>{f?T(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(T(Ut,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(Ut,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,v,_)=>{m.listen(v,C=>{try{_(C)}catch(M){setTimeout(()=>{throw M},0)}})};return g(d,gf.EventType.OPEN,()=>{f||T(Ut,`RPC '${e}' stream ${i} transport opened.`)}),g(d,gf.EventType.CLOSE,()=>{f||(f=!0,T(Ut,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,gf.EventType.ERROR,m=>{f||(f=!0,Dn(Ut,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new A(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,gf.EventType.MESSAGE,m=>{var v;if(!f){const _=m.data[0];U(!!_);const M=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(M){T(Ut,`RPC '${e}' stream ${i} received error:`,M);const L=M.status;let J=function(El){const Ip=ot[El];if(void 0!==Ip)return y1(Ip)}(L),Ce=M.message;void 0===J&&(J=E.INTERNAL,Ce="Unknown error status: "+L+" with message "+M.message),f=!0,p.Ro(new A(J,Ce)),d.close()}else T(Ut,`RPC '${e}' stream ${i} received:`,_),p.Vo(_)}}),g(a,I7.STAT_EVENT,m=>{m.stat===lP.PROXY?T(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===lP.NOPROXY&&T(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function zf(){return typeof document<"u"?document:null}function sl(t){return new VW(t,!0)}class EE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class AN{constructor(e,n,r,i,o,s,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new EE(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return O(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return O(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return O(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new A(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(O(function*(){e.state=0,e.start()}))}o_(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AQ extends AN{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function kW(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:F(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(U(void 0===l||"string"==typeof l),dt.fromBase64String(l||"")):(U(void 0===l||l instanceof Uint8Array),dt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?E.UNKNOWN:y1(c.code);return new A(l,c.message||"")}(s);n=new D1(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Dr(t,r.document.name),o=Je(r.document.updateTime),s=r.document.createTime?Je(r.document.createTime):j.min(),a=new Rt({mapValue:{fields:r.document.fields}}),u=ke.newFoundDocument(i,o,s,a);n=new xf(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Dr(t,r.document),o=r.readTime?Je(r.readTime):j.min(),s=ke.newNoDocument(i,o);n=new xf([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Dr(t,r.document);n=new xf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new SW(i,o);n=new w1(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return j.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?Je(s.readTime):j.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Zc(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Cf(u)?{documents:N1(o,u)}:{query:Zv(o,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=b1(o,s.resumeToken);const c=Wv(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(j.min())>0){a.readTime=da(o,s.snapshotVersion.toTimestamp());const c=Wv(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function BW(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Zc(this.serializer),n.removeTarget=e,this.e_(n)}}class bQ extends AN{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function LW(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(i,o){let s=Je(i.updateTime?i.updateTime:o);return s.isEqual(j.min())&&(s=Je(o)),new CW(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Je(e.commitTime);return this.listener.I_(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Zc(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Xc(t,e){let n;if(e instanceof ca)n={update:x1(t,e.key,e.value)};else if(e instanceof la)n={delete:Yc(t,e.key)};else if(e instanceof Yr)n={update:x1(t,e.key,e.data),updateMask:HW(e.fieldMask)};else{if(!(e instanceof $v))return F();n={verify:Yc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof aa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ua)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:OW(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:F()),n;var o}(this.serializer,r))};this.e_(n)}}class SQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(E.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new A(E.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class MQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xe(n),this.f_=!1):T("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class xQ{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(O(function*(){var u;Pi(s)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=O(function*(l){const d=x(l);d.C_.add(4),yield va(d),d.M_.set("Unknown"),d.C_.delete(4),yield al(d)}),function c(l){return u.apply(this,arguments)})(s))}))}),this.M_=new MQ(r,i)}}function al(t){return wE.apply(this,arguments)}function wE(){return wE=O(function*(t){if(Pi(t))for(const e of t.v_)yield e(!0)}),wE.apply(this,arguments)}function va(t){return DE.apply(this,arguments)}function DE(){return DE=O(function*(t){for(const e of t.v_)yield e(!1)}),DE.apply(this,arguments)}function Wf(t,e){const n=x(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),AE(n)?TE(n):Ia(n).Ho()&&CE(n,e))}function ul(t,e){const n=x(t),r=Ia(n);n.D_.delete(e),r.Ho()&&bN(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Pi(n)&&n.M_.set("Unknown"))}function CE(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ia(t).u_(e)}function bN(t,e){t.x_.Oe(e),Ia(t).c_(e)}function TE(t){t.x_=new MW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ia(t).start(),t.M_.g_()}function AE(t){return Pi(t)&&!Ia(t).jo()&&t.D_.size>0}function Pi(t){return 0===x(t).C_.size}function SN(t){t.x_=void 0}function PQ(t){return bE.apply(this,arguments)}function bE(){return bE=O(function*(t){t.D_.forEach((e,n)=>{CE(t,e)})}),bE.apply(this,arguments)}function NQ(t,e){return SE.apply(this,arguments)}function SE(){return SE=O(function*(t,e){SN(t),AE(t)?(t.M_.w_(e),TE(t)):t.M_.set("Unknown")}),SE.apply(this,arguments)}function VQ(t,e,n){return RE.apply(this,arguments)}function RE(){return RE=O(function*(t,e,n){if(t.M_.set("Online"),e instanceof D1&&2===e.state&&e.cause)try{yield(r=O(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.D_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.D_.delete(u),o.x_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qf(t,r)}else if(e instanceof xf?t.x_.$e(e):e instanceof w1?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(j.min()))try{const r=yield mN(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.D_.get(c);l&&o.D_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const l=o.D_.get(u);if(!l)return;o.D_.set(u,l.withResumeToken(dt.EMPTY_BYTE_STRING,l.snapshotVersion)),bN(o,u);const d=new Zr(l.target,u,c,l.sequenceNumber);CE(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Qf(t,r)}var r}),RE.apply(this,arguments)}function Qf(t,e,n){return ME.apply(this,arguments)}function ME(){return ME=O(function*(t,e,n){if(!Ii(e))throw e;t.C_.add(1),yield va(t),t.M_.set("Offline"),n||(n=()=>mN(t.localStore)),t.asyncQueue.enqueueRetryable(O(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield al(t)}))}),ME.apply(this,arguments)}function RN(t,e){return e().catch(n=>Qf(t,n,e))}function Ea(t){return xE.apply(this,arguments)}function xE(){return xE=O(function*(t){const e=x(t),n=Ni(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;OQ(e);)try{const i=yield vQ(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,FQ(e,i)}catch(i){yield Qf(e,i)}MN(e)&&xN(e)}),xE.apply(this,arguments)}function OQ(t){return Pi(t)&&t.b_.length<10}function FQ(t,e){t.b_.push(e);const n=Ni(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function MN(t){return Pi(t)&&!Ni(t).jo()&&t.b_.length>0}function xN(t){Ni(t).start()}function kQ(t){return PE.apply(this,arguments)}function PE(){return PE=O(function*(t){Ni(t).E_()}),PE.apply(this,arguments)}function LQ(t){return NE.apply(this,arguments)}function NE(){return NE=O(function*(t){const e=Ni(t);for(const n of t.b_)e.P_(n.mutations)}),NE.apply(this,arguments)}function BQ(t,e,n){return VE.apply(this,arguments)}function VE(){return VE=O(function*(t,e,n){const r=t.b_.shift(),i=Gv.from(r,e,n);yield RN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ea(t)}),VE.apply(this,arguments)}function UQ(t,e){return OE.apply(this,arguments)}function OE(){return OE=O(function*(t,e){var n;e&&Ni(t).h_&&(yield(n=O(function*(i,o){if(function _1(t){switch(t){default:return F();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(a=o.code)&&a!==E.ABORTED){const s=i.b_.shift();Ni(i).Yo(),yield RN(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Ea(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),MN(t)&&xN(t)}),OE.apply(this,arguments)}function PN(t,e){return FE.apply(this,arguments)}function FE(){return FE=O(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=Pi(n);n.C_.add(3),yield va(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield al(n)}),FE.apply(this,arguments)}function LE(){return LE=O(function*(t,e){const n=x(t);e?(n.C_.delete(2),yield al(n)):e||(n.C_.add(2),yield va(n),n.M_.set("Unknown"))}),LE.apply(this,arguments)}function Ia(t){return t.O_||(t.O_=function(n,r,i){const o=x(n);return o.A_(),new AQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:PQ.bind(null,t),Io:NQ.bind(null,t),a_:VQ.bind(null,t)}),t.v_.push(function(){var e=O(function*(n){n?(t.O_.Yo(),AE(t)?TE(t):t.M_.set("Unknown")):(yield t.O_.stop(),SN(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Ni(t){return t.N_||(t.N_=function(n,r,i){const o=x(n);return o.A_(),new bQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:kQ.bind(null,t),Io:UQ.bind(null,t),T_:LQ.bind(null,t),I_:BQ.bind(null,t)}),t.v_.push(function(){var e=O(function*(n){n?(t.N_.Yo(),yield Ea(t)):(yield t.N_.stop(),t.b_.length>0&&(T("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class BE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new BE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wa(t,e){if(Xe("AsyncQueue",`${e}: ${t}`),Ii(t))return new A(E.UNAVAILABLE,`${e}: ${t}`);throw t}class Da{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=Hc(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new Da(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class NN{constructor(){this.B_=new Ne(P.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):F():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ca{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ca(e,n,Da.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class jQ{constructor(){this.k_=void 0,this.listeners=[]}}class $Q{constructor(){this.queries=new Kr(e=>XP(e),jc),this.onlineState="Unknown",this.q_=new Set}}function jE(){return jE=O(function*(t,e){const n=x(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new jQ),i)try{o.k_=yield n.onListen(r)}catch(s){const a=wa(s,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&GE(n)}),jE.apply(this,arguments)}function HE(){return HE=O(function*(t,e){const n=x(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),HE.apply(this,arguments)}function HQ(t,e){const n=x(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&GE(n)}function GQ(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function GE(t){t.q_.forEach(e=>{e.next()})}class qE{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class FN{constructor(e){this.key=e}}class kN{constructor(e){this.key=e}}class LN{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=re(),this.mutatedKeys=re(),this._a=e1(e),this.aa=new Da(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new NN,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=$c(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.ha(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this._a(f,u)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(s=s.add(f),o=g?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,l)=>function(h,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return p(h)-p(f)}(c.type,l.type)||this._a(c.doc,l.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,u=a!==this.sa;return this.sa=a,0!==o.length||u?{snapshot:new Ca(this.query,e.aa,i,o,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new NN,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=re(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new kN(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new FN(r))}),n}da(e){this.ia=e.ls,this.oa=re();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ca.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class WQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QQ{constructor(e){this.key=e,this.Ra=!1}}class KQ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Kr(a=>XP(a),jc),this.fa=new Map,this.ga=new Set,this.pa=new Ne(P.comparator),this.ya=new Map,this.wa=new oE,this.Sa={},this.ba=new Map,this.Da=To.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function YQ(t,e){return zE.apply(this,arguments)}function zE(){return zE=O(function*(t,e){const n=function gI(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JQ.bind(null,e),e.Va.a_=HQ.bind(null,e.eventManager),e.Va.Fa=GQ.bind(null,e.eventManager),e}(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function _a(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,y.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new Zr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Xt(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function WE(t,e,n,r,i){return QE.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Wf(n.remoteStore,s)}return i}),zE.apply(this,arguments)}function QE(){return QE=O(function*(t,e,n,r,i){t.va=(d,h,f)=>{return(p=O(function*(m,v,_,C){let M=v.view.ca(_);M.Zi&&(M=yield $f(m.localStore,v.query,!1).then(({documents:Ce})=>v.view.ca(Ce,M)));const L=C&&C.targetChanges.get(v.targetId),J=v.view.applyChanges(M,m.isPrimaryClient,L);return iI(m,v.targetId,J.Ta),J.snapshot}),function g(m,v,_,C){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield $f(t.localStore,e,!0),s=new LN(e,o.ls),a=s.ca(o.documents),u=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);iI(t,n,c.Ta);const l=new WQ(e,n,s);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}),QE.apply(this,arguments)}function ZQ(t,e){return KE.apply(this,arguments)}function KE(){return KE=O(function*(t,e){const n=x(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!jc(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ya(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ul(n.remoteStore,r.targetId),Ta(n,r.targetId)}).catch(Ei))):(Ta(n,r.targetId),yield ya(n.localStore,r.targetId,!0))}),KE.apply(this,arguments)}function YE(){return YE=O(function*(t,e,n){const r=function mI(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tK.bind(null,e),e}(t);try{const i=yield function(s,a){const u=x(s),c=He.now(),l=a.reduce((f,p)=>f.add(p.key),re());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=dn(),g=re();return u.ss.getEntries(f,l).next(m=>{p=m,p.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const v=[];for(const _ of a){const C=AW(_,d.get(_.key).overlayedDocument);null!=C&&v.push(new Yr(_.key,C,kP(C.value.mapValue),je.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,v,a)}).next(m=>{h=m;const v=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,v)})}).then(()=>({batchId:h.batchId,changes:n1(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Sa[s.currentUser.toKey()];c||(c=new Ne(K)),c=c.insert(a,u),s.Sa[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Xr(r,i.changes),yield Ea(r.remoteStore)}catch(i){const o=wa(i,"Failed to persist write");n.reject(o)}}),YE.apply(this,arguments)}function BN(t,e){return ZE.apply(this,arguments)}function ZE(){return ZE=O(function*(t,e){const n=x(t);try{const r=yield function yQ(t,e){const n=x(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,m,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(dt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,f))});let u=dn(),c=re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function _N(t,e,n){let r=re(),i=re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=dn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(j.min())){const l=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?U(s.Ra):i.removedDocuments.size>0&&(U(s.Ra),s.Ra=!1))}),yield Xr(n,r,e)}catch(r){yield Ei(r)}}),ZE.apply(this,arguments)}function UN(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=x(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&GE(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function JQ(t,e,n){return XE.apply(this,arguments)}function XE(){return XE=O(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Ne(P.comparator);s=s.insert(o,ke.newNoDocument(o,j.min()));const a=re().add(o),u=new Qc(j.min(),new Map,new Ne(K),s,a);yield BN(r,u),r.pa=r.pa.remove(o),r.ya.delete(e),oI(r)}else yield ya(r.localStore,e,!1).then(()=>Ta(r,e,n)).catch(Ei)}),XE.apply(this,arguments)}function eK(t,e){return JE.apply(this,arguments)}function JE(){return JE=O(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function _Q(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=y.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);U(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);rI(n,r,null),nI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Xr(n,i)}catch(i){yield Ei(i)}}),JE.apply(this,arguments)}function tK(t,e,n){return eI.apply(this,arguments)}function eI(){return eI=O(function*(t,e,n){const r=x(t);try{const i=yield function(s,a){const u=x(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(U(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);rI(r,e,n),nI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Xr(r,i)}catch(i){yield Ei(i)}}),eI.apply(this,arguments)}function nI(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function rI(t,e,n){const r=x(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Ta(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||jN(t,r)})}function jN(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(ul(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),oI(t))}function iI(t,e,n){for(const r of n)r instanceof FN?(t.wa.addReference(r.key,e),rK(t,r)):r instanceof kN?(T("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||jN(t,r.key)):F()}function rK(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(T("SyncEngine","New document in limbo: "+n),t.ga.add(r),oI(t))}function oI(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new P(le.fromString(e)),r=t.Da.next();t.ya.set(r,new QQ(n)),t.pa=t.pa.insert(n,r),Wf(t.remoteStore,new Zr(Xt(ia(n.path)),r,"TargetPurposeLimboResolution",Tn._e))}}function Xr(t,e,n){return sI.apply(this,arguments)}function sI(){return sI=O(function*(t,e,n){const r=x(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{s.push(r.va(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=lE.Qi(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=O(function*(c,l){const d=x(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>y.forEach(l,f=>y.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>y.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ii(h))throw h;T("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,o))}),sI.apply(this,arguments)}function iK(t,e){return aI.apply(this,arguments)}function aI(){return aI=O(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield gN(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(u=>{u.reject(new A(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xr(n,r._s)}var o}),aI.apply(this,arguments)}function oK(t,e){const n=x(t),r=n.ya.get(e);if(r&&r.Ra)return re().add(r.key);{let i=re();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class Kf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return O(function*(){n.serializer=sl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function pN(t,e,n,r){return new mQ(t,e,n,r)}(this.persistence,new fN,e.initialUser,this.serializer)}createPersistence(e){return new sE(Bf.jr,this.serializer)}createSharedClientState(e){return new DN}terminate(){var e=this;return O(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Aa{initialize(e,n){var r=this;return O(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>UN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=iK.bind(null,r.syncEngine),yield function kE(t,e){return LE.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $Q}createDatastore(e){const n=sl(e.databaseInfo.databaseId),r=new TQ(e.databaseInfo);return new SQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>UN(this.syncEngine,n,0),a=CN.D()?new CN:new wQ,new xQ(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,u,c,l){const d=new KQ(i,o,s,a,u,c);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=O(function*(r){const i=x(r);T("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield va(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Yf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Xe("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class yK{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=pP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=O(function*(a){T("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(T("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return O(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new lt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(O(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=wa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Zf(t,e){return _I.apply(this,arguments)}function _I(){return _I=O(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=O(function*(o){r.isEqual(o)||(yield gN(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),_I.apply(this,arguments)}function yI(t,e){return vI.apply(this,arguments)}function vI(){return vI=O(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function EI(t){return II.apply(this,arguments)}(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>PN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>PN(e.remoteStore,o)),t._onlineComponents=e}),vI.apply(this,arguments)}function II(){return II=O(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function WN(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Dn("Error using user provided cache. Falling back to memory cache: "+n),yield Zf(t,new Kf)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield Zf(t,new Kf);return t._offlineComponents}),II.apply(this,arguments)}function Xf(t){return wI.apply(this,arguments)}function wI(){return wI=O(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield yI(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield yI(t,new Aa))),t._onlineComponents}),wI.apply(this,arguments)}function CI(){return CI=O(function*(t){const e=yield Xf(t),n=e.eventManager;return n.onListen=YQ.bind(null,e.syncEngine),n.onUnlisten=ZQ.bind(null,e.syncEngine),n}),CI.apply(this,arguments)}function XN(t,e,n={}){const r=new lt;return t.asyncQueue.enqueueAndForget(O(function*(){return function(o,s,a,u,c){const l=new Yf({next:h=>{s.enqueueAndForget(()=>function $E(t,e){return HE.apply(this,arguments)}(o,d)),h.fromCache&&"server"===u.source?c.reject(new A(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new qE(a,l,{includeMetadataChanges:!0,J_:!0});return function UE(t,e){return jE.apply(this,arguments)}(o,d)}(yield function Sa(t){return CI.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function JN(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const eV=new Map;function TI(t,e,n){if(!n)throw new A(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tV(t){if(!P.isDocumentKey(t))throw new A(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nV(t){if(P.isDocumentKey(t))throw new A(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":F()}function ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jf(t);throw new A(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class iV{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new A(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function RK(t,e,n,r){if(!0===e&&!0===r)throw new A(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=JN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new A(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new A(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new A(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iV(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new T7;switch(r.type){case"firstParty":return new R7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new A(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eV.get(n);r&&(T("ComponentProvider","Removing Datastore"),eV.delete(n),r.terminate())}(this),Promise.resolve()}}class Mt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mt(this.firestore,e,this._query)}}class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}}class Cr extends Mt{constructor(e,n,r){super(e,n,ia(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new P(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function oV(t,e,...n){if(t=sc(t),TI("collection","path",e),t instanceof cl){const r=le.fromString(e,...n);return nV(r),new Cr(t,null,r)}{if(!(t instanceof et||t instanceof Cr))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return nV(r),new Cr(t.firestore,null,r)}}class PK{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new EE(this,"async_queue_retry"),this.iu=()=>{const n=zf();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=zf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=zf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new lt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return O(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Ii(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Xe("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=BE.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&F()}verifyOperationInProgress(){}uu(){var e=this;return O(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Ve extends cl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new PK,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||aV(this),this._firestoreClient.terminate()}}function VK(t,e){const n="object"==typeof t?t:function s8(t=Lh){const e=so.get(t);if(!e&&t===Lh&&RM())return HM();if(!e)throw Gr.create("no-app",{appName:t});return e}(),r="string"==typeof t?t:e||"(default)",i=function $M(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Oh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function MK(t,e,n,r={}){var i;const o=(t=ae(t,cl))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Dn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=_t.MOCK_USER;else{a=function Yz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vh(JSON.stringify({alg:"none",type:"JWT"})),Vh(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new A(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _t(c)}t._authCredentials=new A7(new hP(a,u))}}(i,...o)}return i}function tt(t){return t._firestoreClient||aV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aV(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new oW(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,JN(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new yK(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(dt.fromBase64String(e))}catch(n){throw new A(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ra{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new A(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ue(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lV{constructor(e){this._methodName=e}}class bI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const FK=/^__.*__$/;class kK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ca(e,this.data,n,this.fieldTransforms)}}function hV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class ep{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return np(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(hV(this.Iu)&&FK.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class LK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sl(e)}pu(e,n,r,i=!1){return new ep({Iu:e,methodName:n,gu:r,path:Ue.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ma(t){const e=t._freezeSettings(),n=sl(t._databaseId);return new LK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SI(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);MI("Data must be an object, but it was:",s,r);const a=_V(r,s);let u,c;if(o.merge)u=new ln(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=hl(e,d,n);if(!s.contains(h))throw new A(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);vV(l,h)||l.push(h)}u=new ln(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new kK(new Rt(a),u,c)}function So(t,e){if(yV(t=sc(t)))return MI("Unsupported field value:",e,t),_V(t,e);if(t instanceof lV)return function(r,i){if(!hV(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=So(a,i.Vu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=sc(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return s1(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=He.fromDate(r);return{timestampValue:da(i.serializer,o)}}if(r instanceof He){const o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:da(i.serializer,o)}}if(r instanceof bI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bo)return{bytesValue:b1(i.serializer,r._byteString)};if(r instanceof et){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Jf(r)}`)}(t,e)}function _V(t,e){const n={};return SP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wi(t,(r,i)=>{const o=So(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function yV(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof He||t instanceof bI||t instanceof bo||t instanceof et||t instanceof lV)}function MI(t,e,n){if(!yV(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Jf(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function hl(t,e,n){if((e=sc(e))instanceof Ra)return e._internalPath;if("string"==typeof e)return tp(t,e);throw np("Field path arguments must be of type string or ",t,!1,void 0,n)}const $K=new RegExp("[~\\*/\\[\\]]");function tp(t,e,n){if(e.search($K)>=0)throw np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ra(...e.split("."))._internalPath}catch{throw np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function np(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new A(E.INVALID_ARGUMENT,a+t+u)}function vV(t,e){return t.some(n=>n.isEqual(e))}class xI{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class HK extends xI{data(){return super.data()}}function rp(t,e){return"string"==typeof e?tp(t,e):e instanceof Ra?e._internalPath:e._delegate._internalPath}class qK{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new bI(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ef(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=Di(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);U(k1(r));const i=new go(r.get(1),r.get(3)),o=new P(r.popFirst(5));return i.isEqual(n)||Xe(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends xI{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ap extends Pa{data(e={}){return super.data(e)}}class Na{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ap(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:WK(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Vi extends qK{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function KK(t,e){const n=ae(t.firestore,Ve),r=function xK(t,e,...n){if(t=sc(t),1===arguments.length&&(e=pP.newId()),TI("doc","path",e),t instanceof cl){const r=le.fromString(e,...n);return tV(r),new et(t,null,new P(r))}{if(!(t instanceof et||t instanceof Cr))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return tV(r),new et(t.firestore,t instanceof Cr?t.converter:null,new P(r))}}(t),i=function NI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function pl(t,e){return function(r,i){const o=new lt;return r.asyncQueue.enqueueAndForget(O(function*(){return function XQ(t,e,n){return YE.apply(this,arguments)}(yield function DI(t){return Xf(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(tt(t),e)}(n,[SI(Ma(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}!function(e,n=!0){Ys="10.6.0",Uh(new ac("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ve(new b7(r.getProvider("auth-internal")),new M7(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new A(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$s(dP,"4.3.2",e),$s(dP,"4.3.2","esm2017")}();const uY_firebaseConfig={apiKey:"AIzaSyCEIcVV2_CsV7oSoNYS9I4ryEByuTXgPJ4",authDomain:"gestion-c4561.firebaseapp.com",projectId:"gestion-c4561",storageBucket:"gestion-c4561.appspot.com",messagingSenderId:"660909912022",appId:"1:660909912022:web:52e76562e26a098c1d3e77",measurementId:"G-3EENNCQ55P"};let RV=(()=>{class t{constructor(){this.app=HM(uY_firebaseConfig),this.db=VK(this.app)}getEnseignants(){var n=this;return O(function*(){const r=oV(n.db,"enseignant"),i=yield function QK(t){t=ae(t,Mt);const e=ae(t.firestore,Ve),n=tt(e),r=new Vi(e);return function EV(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new A(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),XN(n,t._query).then(i=>new Na(e,r,t,i))}(r),o=[];return i.forEach(s=>{const a=s.data();o.push({id:a.ID,nom:a.nom,prenom:a.prenom,tel:a.tel,mail:a.mail,username:a.username,password:a.password})}),[...o]})()}addEnseignant(n){var r=this;return O(function*(){const i=oV(r.db,"enseignant");try{yield KK(i,n),console.log("Enseignant added successfully!"),alert("Sign up successfully!")}catch(o){console.error("Error adding enseignant: ",o)}})()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MV=(()=>{class t{constructor(n){this.route=n,this.userConnected=!1}setUser(n){this.User=n,this.userConnected=!0}desc(){this.User=null,this.userConnected=!1,this.route.navigate(["/login"])}static#e=this.\u0275fac=function(r){return new(r||t)(H(Yt))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xV=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Nr),b(yn))};static#t=this.\u0275dir=W({type:t})}return t})(),Mo=(()=>{class t extends xV{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Tt(t)))(i||t)}}();static#t=this.\u0275dir=W({type:t,features:[ye]})}return t})();const Tr=new B("NgValueAccessor"),dY={provide:Tr,useExisting:be(()=>gl),multi:!0},fY=new B("CompositionEventMode");let gl=(()=>{class t extends xV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hY(){const t=di()?di().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Nr),b(yn),b(fY,8))};static#t=this.\u0275dir=W({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Be([dY]),ye]})}return t})();const jt=new B("NgValidators"),Fi=new B("NgAsyncValidators");function $V(t){return null!=t}function HV(t){return Au(t)?ht(t):t}function GV(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function qV(t,e){return e.map(n=>n(t))}function zV(t){return t.map(e=>function gY(t){return!t.validate}(e)?e:n=>e.validate(n))}function FI(t){return null!=t?function WV(t){if(!t)return null;const e=t.filter($V);return 0==e.length?null:function(n){return GV(qV(n,e))}}(zV(t)):null}function kI(t){return null!=t?function QV(t){if(!t)return null;const e=t.filter($V);return 0==e.length?null:function(n){return function cY(...t){const e=Cw(t),{args:n,keys:r}=pR(t),i=new nt(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;fn(n[l]).subscribe(rt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?mR(r,a):a),o.complete())}))}});return e?i.pipe(gR(e)):i}(qV(n,e).map(HV)).pipe(Te(GV))}}(zV(t)):null}function KV(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function LI(t){return t?Array.isArray(t)?t:[t]:[]}function dp(t,e){return Array.isArray(t)?t.includes(e):t===e}function XV(t,e){const n=LI(e);return LI(t).forEach(i=>{dp(n,i)||n.push(i)}),n}function JV(t,e){return LI(e).filter(n=>!dp(t,n))}class eO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Jt extends eO{get formDirective(){return null}get path(){return null}}class ki extends eO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let BI=(()=>{class t extends tO{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(ki,2))};static#t=this.\u0275dir=W({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Bd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ye]})}return t})();const ml="VALID",fp="INVALID",Va="PENDING",_l="DISABLED";function pp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class oO{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ml}get invalid(){return this.status===fp}get pending(){return this.status==Va}get disabled(){return this.status===_l}get enabled(){return this.status!==_l}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JV(e,this._rawAsyncValidators))}hasValidator(e){return dp(this._rawValidators,e)}hasAsyncValidator(e){return dp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Va,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=_l,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ml,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ml||this.status===Va)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_l:ml}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Va,this._hasOwnPendingAsyncValidator=!0;const n=HV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?_l:this.errors?fp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Va)?Va:this._anyControlsHaveStatus(fp)?fp:ml}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function EY(t){return Array.isArray(t)?FI(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function IY(t){return Array.isArray(t)?kI(t):t||null}(this._rawAsyncValidators)}}const Oa=new B("CallSetDisabledState",{providedIn:"root",factory:()=>gp}),gp="always";function yl(t,e,n=gp){(function qI(t,e){const n=function YV(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(KV(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function ZV(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(KV(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();yp(e._rawValidators,i),yp(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function CY(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&sO(t,e)})}(t,e),function AY(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function TY(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&sO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function DY(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function yp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function sO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function cO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function lO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const dO=class extends oO{constructor(e=null,n,r){super(function $I(t){return(pp(t)?t.validators:t)||null}(n),function HI(t,e){return(pp(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=lO(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},VY={provide:ki,useExisting:be(()=>Ep)},pO=(()=>Promise.resolve())();let Ep=(()=>{class t extends ki{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new dO,this._registered=!1,this.name="",this.update=new qe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function QI(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===gl?n=o:function RY(t){return Object.getPrototypeOf(t.constructor)===Mo}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function WI(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){pO.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Rs(r);pO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function mp(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(b(Jt,9),b(jt,10),b(Fi,10),b(Tr,10),b(Xd,8),b(Oa,8))};static#t=this.\u0275dir=W({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Be([VY]),ye,Rn]})}return t})(),mO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Ln({})}return t})(),oZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Ln({imports:[mO]})}return t})(),aZ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Oa,useValue:n.callSetDisabledState??gp}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Ln({imports:[oZ]})}return t})(),uZ=(()=>{class t{constructor(n,r,i){this.firebaseService=n,this.router=r,this.share=i,this.enseignants=[],this.username="",this.pass=""}ngOnInit(){this.firebaseService.getEnseignants().then(n=>{this.enseignants=n}),this.trys=0}onSubmit(){if(""===this.username||""===this.pass)alert("Enter your data");else{for(const n of this.enseignants)if(n.username===this.username&&n.password===this.pass)return this.share.setUser(n),void this.router.navigate(["/home"]);this.trys++,3==this.trys&&(alert("You have failled 3 times :|\nPlease contact Admin"),this.router.navigate(["/home"])),alert("Username or Password is incorrect!\nPlease verify your data :)"),this.pass=""}}static#e=this.\u0275fac=function(r){return new(r||t)(b(RV),b(Yt),b(MV))};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"form-group","m-5"],["for","exampleInputEmail1",1,"form-label","mt-4"],["type","text","id","exampleInputEmail1","placeholder","Enter Username",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label","mt-4"],["type","password","id","exampleInputPassword1","placeholder","Password","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["routerLink","/home",1,"btn","btn-secondary","m-3"],["routerLink","/sign-up",2,"font-size","14px"]],template:function(r,i){1&r&&(I(0,"div",0)(1,"label",1),S(2,"User Name"),w(),I(3,"input",2),Oe("ngModelChange",function(s){return i.username=s}),w(),I(4,"label",3),S(5,"Password"),w(),I(6,"input",4),Oe("ngModelChange",function(s){return i.pass=s}),w(),sn(7,"br"),I(8,"button",5),Oe("click",function(){return i.onSubmit()}),S(9,"log in"),w(),I(10,"a",6),S(11,"Cancel"),w(),sn(12,"br"),I(13,"a",7),S(14,"Create Account"),w()()),2&r&&(ft(3),pt("ngModel",i.username),ft(3),pt("ngModel",i.pass))},dependencies:[gl,BI,Ep,oc]})}return t})(),cZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-about"]],decls:170,vars:0,consts:[[1,"entry-content","m-5"],[1,"bt_bb_wrapper"],["align","justify"],["href","https://vpnssl.cck.rnu.tn:4343/proxy/4316810f/http/int.search.myway.com/search/GGmain.jhtml?st=tab&ptb=8D9AD0B4-F83B-4E77-B94E-A99FCFFA7F63&n=781c5257&ind=2015122007&ct=SS&pg=GGmain&p2=%5EY6%5Exdm007%5ETTAB02%5Etn&si=CJeM5LSP68kCFQsKwwodlLsNug&tpr=sc&searchfor=TOEIC&ots=1471950751845"],["width","659","border","1"],["width","234"],["width","297"],["width","128"],["rowspan","4","width","234"],["rowspan","6","width","128"],["rowspan","2","width","234"],["rowspan","4","width","128"],["rowspan","6","width","234"],["rowspan","3","width","234"],["rowspan","3","width","128"]],template:function(r,i){1&r&&(I(0,"div",0)(1,"div",1)(2,"h2"),S(3,"Pr\xe9sentation de l'ISET de Rades"),w(),I(4,"p",2),S(5," Dans un environnement caract\xe9ris\xe9 par la g\xe9n\xe9ralisation de la formation professionnalisante \xe0 l'ensemble de l'universit\xe9 tunisienne, l'Institut Sup\xe9rieur des Etudes Technologiques de Rades (ISET de Rades) se trouve dans l'obligation de diff\xe9rencier, de diversifier et de valoriser son offre de formation et \xe0 m\xeame de consacrer l'\xe9cole en tant qu'institution phare de l'enseignement sup\xe9rieur technologique en Tunisie. Le lancement de cet institut vient donc \xe0 point nomm\xe9 pour favoriser une formation active, orient\xe9e et signifiante pour r\xe9pondre aux mieux aux besoins r\xe9els du milieu industriel. C'est une r\xe9flexion coll\xe9giale\xa0 \xa0sur les orientations strat\xe9giques avanc\xe9es afin de p\xe9renniser le d\xe9veloppement de l'\xe9cole et d'\xe9largir son rayonnement sur son environnement r\xe9gional, national et voire m\xeame international. "),w(),I(6,"p",2),S(7," A ce titre, la mise en \u0153uvre de la formation dans notre institution \xe9tant le fruit d'une d\xe9marche participative ayant impliqu\xe9 divers acteurs\xa0; constitue-t-il une d\xe9claration d'intentions visant \xe0 sensibiliser les acteurs internes, enseignants agr\xe9es et personnel administratif engag\xe9 et exp\xe9riment\xe9 en particulier, les responsables des f\xe9d\xe9rations de l'UTICA repr\xe9sentant du monde socio-\xe9conomique et les apprenants en premier lieu, quant \xe0 la n\xe9cessit\xe9 d'un repositionnement de l'offre de notre institution en r\xe9ponse au changement du paysage universitaire tunisien. "),w(),I(8,"p",2),S(9," Fort d'une riche exp\xe9rience, des enseignants qui assurent la formation actuelle, dans le d\xe9veloppement d'une offre de formation professionnalisante, notre institut trouve dans la confiance plac\xe9e en lui par les professionnels un atout majeur pour consolider un partenariat plus actif qui permettrait \xe0 terme de favoriser la mise en place de conventions de collaborations et de transfert de technologie. Outre sa mission principale de formation initiale de futurs cadres de niveau Licence Appliqu\xe9e et Master Professionnel dans les domaines technologiques du G\xe9nie M\xe9canique, G\xe9nie Electrique, G\xe9nie Civil, des Technologies de l'Informatique et des Sciences Economiques et de Gestion, l'ISET de Rad\xe8s dispose d'un Service de Formation Continue. Notre institut est habilit\xe9 \xe0 concevoir et mettre en \u0153uvre des programmes de formation continue et/ou de concours de recrutement ou de promotion. Depuis 2015, il b\xe9n\xe9ficie de l'agr\xe9ment en tant que centre de formation au programme CAME (Ch\xe8que d'Am\xe9lioration de l'Employabilit\xe9). En effet, nous avons et nous sommes entrain d'assurer : "),w(),I(10,"p"),S(11," * Formations certifiantes :\xa0L'ISET de Rades offre des formations certifiantes en C2i, SISCO, Solid-Works et LabView. "),w(),I(12,"p",2),S(13," * Formations de longue dur\xe9e :\xa0L'ISET de Rades organise des cycles de formation pour la qualification des participants au passage de grade, compte tenu des besoins et des sp\xe9cificit\xe9s des \xe9tablissements employeurs (ATFP, OACA, Minist\xe8re de l'\xe9quipement, Imprimerie Officielle de la R\xe9publique Tunisienne, \u2026) "),w(),I(14,"h6"),S(15," * Organisation de concours :\xa0L'ISET de Rad\xe8s est habilit\xe9 \xe0 organiser des concours pour le compte d'institutions publiques et priv\xe9es (recrutement, pr\xe9paration au passage de grade, \u2026). "),w(),I(16,"h6"),S(17," * Inter-Intra :\xa0Nos enseignants formateurs peuvent intervenir \xe9galement en intra, pour animer des formations sur mesure, qui r\xe9pondent aux besoins sp\xe9cifiques de nos partenaires. "),w(),I(18,"p",2),S(19," La maturation progressive de notre institution associ\xe9e \xe0 l'exp\xe9rience et la comp\xe9tence de ses enseignants permettant d'assurer une formation rigoureuse, l'importance des moyens et ressources technologiques d'une institution en pleine mutation qualitative et l'\xe9ventualit\xe9 de cr\xe9ation de p\xf4les de comp\xe9tences \xe0 travers une vague de certification des enseignants permanents et des \xe9tudiants. Par ailleurs, notre strat\xe9gie s'articule sur le processus de certification de notre \xe9cole en mettant en \u0153uvre l'SMQ aux termes de l'ISO 9001 en vue de l'accr\xe9ditation de notre institut pr\xe9vue \xe0 la lumi\xe8re de l'ann\xe9e universitaire 2021/2022. En l'occurrence, nos \xe9tudiants en particulier b\xe9n\xe9ficient d'un panier de certification ("),I(20,"a",3),S(21,"TOEIC"),w(),S(22," , CISCO, C2i, Solid Works, \xa0LabView \u2026) leurs permettant une int\xe9gration meilleure dans le secteur professionnel. En outre, nous sommes bien \xe9quip\xe9s pour r\xe9pondre d'une mani\xe8re satisfaisante aux exigences de la formation pratique (travaux pratiques) dans les diff\xe9rents parcours d\xe9j\xe0 habilit\xe9s (voir tableau ci-apr\xe8s). Les \xe9l\xe9ments sus indiqu\xe9s constituent des signes prometteurs en vue d'une revalorisation du statut de notre institut pour une r\xe9ponse plus pointue aux besoins des professionnels aussi bien en cadres moyens (licence appliqu\xe9es) qu'en cadres sup\xe9rieurs (masters professionnels et masters co-construits). "),w(),I(23,"p",2),S(24," Il va sans dire que la r\xe9ussite de notre strat\xe9gie, d\xe9clin\xe9e en plans op\xe9rationnels concrets sur les divers axes promoteurs (formation ax\xe9e sur la pratique, accr\xe9ditation de l'institution et certification des enseignants, personnel administratif et, bien entendu, \xe9tudiants), demeure tributaire de l'engagement de tous (ce qui est le cas dans notre institution) : Direction, enseignants, Personnel administratif, \xe9tudiants, autorit\xe9 de tutelle et corporations professionnelles partenaires. Co-construction des r\xe9f\xe9rentiels de formation, Qualit\xe9 et Certification seront les ma\xeetres mots autour desquels on a install\xe9 une communication forte valorisant l'effort consenti pour r\xe9ussir cette mission. Un comit\xe9 qualit\xe9 et un conseil scientifique \xe9difi\xe9s, s'efforceront sans doute pour assurer l'appui et le suivi n\xe9cessaire pour l'atteinte des objectifs annonc\xe9s et l'\xe9valuation des r\xe9sultats interm\xe9diaires. "),w(),I(25,"h2"),S(26,"Cr\xe9ation:"),w(),I(27,"p",2),S(28," Cr\xe9\xe9 par la loi 51-92 du 18 mai 1992; l'ISET Rad\xe8s est un institut universitaire tunisien rattach\xe9 \xe0 l'universit\xe9. L'enseignement y est assur\xe9 en grande partie par des enseignants du corps des technologues.Plac\xe9 sous la tutelle du minist\xe8re de l'Enseignement sup\xe9rieur et de la Recherche scientifique et g\xe9r\xe9 par la direction g\xe9n\xe9rale ; propose une formation initiale dipl\xf4mante, des formations continues en lien avec les besoins des entreprises, un centre de ressources technologiques, un p\xf4les de comp\xe9tence et une p\xe9pini\xe8res d'entreprises. "),w(),I(29,"h2"),S(30,"Mission:"),w(),I(31,"p",2),S(32," ISET Rad\xe8s est habilit\xe9 \xe0 \xe9tablir des relations de partenariat avec le milieu \xe9conomique pour assurer la formation de cadres (bac +3 et bac+5 ) r\xe9pondant aux besoins des entreprises. l \u2019ISET de Rad\xe8s d\xe9livre \xe0 ses \xe9tudiants un dipl\xf4me de licence appliqu\xe9e dans les domaines de la technologie et de la gestion. et aussi le dipl\xf4me de mast\xe8re professionnel dans plusieurs disciplines. "),w(),I(33,"p")(34,"strong"),S(35,"Tableau r\xe9capitulatif des domaines de formation \xe0 notre institut:"),w()(),I(36,"table",4)(37,"tbody")(38,"tr")(39,"td",5)(40,"strong"),S(41,"Nature de licence ou de Mast\xe8re"),w()(),I(42,"td",6)(43,"strong"),S(44,"Intitul\xe9 de parcours"),w()(),I(45,"td",7)(46,"strong"),S(47,"Niveau d'\xe9tudes"),w()()(),I(48,"tr")(49,"td",8)(50,"strong"),S(51,"Licence Appliqu\xe9e en Administration des Affaires"),w()(),I(52,"td",6),S(53,"Gestion Comptable et Financi\xe8re"),w(),I(54,"td",9),S(55,"BAC + 3"),w()(),I(56,"tr")(57,"td",6),S(58,"Management du Commerce International"),w()(),I(59,"tr")(60,"td",6),S(61,"Logistique et Transport international"),w()(),I(62,"tr")(63,"td",6),S(64,"Gestion de la production"),w()(),I(65,"tr")(66,"td",10)(67,"strong"),S(68,"Licence Appliqu\xe9e en Marketing"),w()(),I(69,"td",6),S(70,"Techniques de Vente"),w()(),I(71,"tr")(72,"td",6),S(73,"Communication Publicitaire"),w()(),I(74,"tr")(75,"td",8)(76,"strong"),S(77,"Licence en G\xe9nie Electrique"),w()(),I(78,"td",6),S(79,"S\xe9curit\xe9 et Contr\xf4le Industriel"),w(),I(80,"td",11),S(81,"BAC + 3"),w()(),I(82,"tr")(83,"td",6),S(84,"Automatisme et Informatique Industrielle"),w()(),I(85,"tr")(86,"td",6),S(87,"Maintenance des Syst\xe8mes Electriques"),w()(),I(88,"tr")(89,"td",6),S(90,"Electricit\xe9 Industrielle"),w()(),I(91,"tr")(92,"td",12)(93,"strong"),S(94,"Licence en G\xe9nie M\xe9canique"),w()(),I(95,"td",6),S(96,"Energ\xe9tique"),w(),I(97,"td",9),S(98,"BAC + 3"),w()(),I(99,"tr")(100,"td",6),S(101,"Construction et Fabrication M\xe9canique"),w()(),I(102,"tr")(103,"td",6),S(104,"Maintenance Industrielle"),w()(),I(105,"tr")(106,"td",6),S(107,"Plasturgie"),w()(),I(108,"tr")(109,"td",6),S(110,"M\xe9catronique"),w()(),I(111,"tr")(112,"td",6),S(113,"Construction M\xe9tallique"),w()(),I(114,"tr")(115,"td",13)(116,"strong"),S(117,"Licence en G\xe9nie Civil"),w()(),I(118,"td",6),S(119,"Travaux Publics"),w(),I(120,"td",14),S(121,"BAC + 3"),w()(),I(122,"tr")(123,"td",6),S(124,"B\xe2timent"),w()(),I(125,"tr")(126,"td",6),S(127,"Pilotage des chantiers"),w()(),I(128,"tr")(129,"td",8)(130,"strong"),S(131,"Licence en Technologies de l'Informatique"),w()(),I(132,"td",6),S(133,"Multim\xe9dia et d\xe9veloppement web"),w(),I(134,"td",11),S(135,"BAC + 3"),w()(),I(136,"tr")(137,"td",6),S(138,"R\xe9seaux et services informatiques"),w()(),I(139,"tr")(140,"td",6),S(141,"Maintenance des syst\xe8mes informatiques"),w()(),I(142,"tr")(143,"td",6),S(144,"D\xe9veloppement des syst\xe8mes d \u2019information"),w()(),I(145,"tr")(146,"td",8),S(147,"Mast\xe8res Professionnels"),w(),sn(148,"td",6),I(149,"td",9),S(150,"BAC + 5"),w()(),I(151,"tr")(152,"td",6),S(153,"M\xe9catronique"),w()(),I(154,"tr")(155,"td",6),S(156,"D\xe9veloppement des Applications Mobiles"),w()(),I(157,"tr")(158,"td",6),S(159,"Business Intelligence"),w()(),I(160,"tr")(161,"td",10),S(162," Mast\xe8re Co-construit "),I(163,"p"),S(164,"(Commerce et Distribution)"),w()(),I(165,"td",6),S(166,"Commerce"),w()(),I(167,"tr")(168,"td",6),S(169,"logistique"),w()()()()()())},styles:["td[_ngcontent-%COMP%]{border:1px solid;padding:5px}"]})}return t})(),lZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-clubs"]],decls:33,vars:0,consts:[[1,"container","m-5","row","justify-content-center"],["href","https://www.facebook.com/DrissMoktharBactechnique","target","_blank",2,"width","fit-content","padding","0px","margin","10px"],[1,"card","text-white","bg-primary","p-3",2,"max-width","20rem"],["src","../../../assets/clubs/NG.svg","alt","New Generation",2,"height","250px"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["href","https://www.facebook.com/profile.php?id=100093956004523","target","_blank",2,"width","fit-content","padding","0px","margin","10px"],["src","../../../assets/clubs/enactus.svg","alt","Enactus",2,"height","250px"],["href","https://www.facebook.com/TunsaISETRades","target","_blank",2,"width","fit-content","padding","0px","margin","10px"],["src","../../../assets/clubs/Tunsa.svg","alt","Tunsa",2,"height","250px"],["href","https://www.facebook.com/IEEE.ISET.RADES","target","_blank",2,"width","fit-content","padding","0px","margin","10px"],["src","../../../assets/clubs/IEEE.png","alt","IEEE",2,"height","250px"]],template:function(r,i){1&r&&(I(0,"div",0)(1,"a",1)(2,"div",2),sn(3,"img",3),I(4,"div",4)(5,"h4",5),S(6,"New Generation"),w(),I(7,"p",6),S(8,"Some quick example text to build on the card title and make up the bulk of the card's content."),w()()()(),I(9,"a",7)(10,"div",2),sn(11,"img",8),I(12,"div",4)(13,"h4",5),S(14,"Enactus"),w(),I(15,"p",6),S(16,"Some quick example text to build on the card title and make up the bulk of the card's content."),w()()()(),I(17,"a",9)(18,"div",2),sn(19,"img",10),I(20,"div",4)(21,"h4",5),S(22,"Tunsa"),w(),I(23,"p",6),S(24,"Some quick example text to build on the card title and make up the bulk of the card's content."),w()()()(),I(25,"a",11)(26,"div",2),sn(27,"img",12),I(28,"div",4)(29,"h4",5),S(30,"IEEE"),w(),I(31,"p",6),S(32,"Some quick example text to build on the card title and make up the bulk of the card's content."),w()()()()())}})}return t})(),dZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-cours"]],decls:19,vars:0,consts:[[1,"container","m-5"],["href","https://www.w3schools.com","target","_blank",2,"text-decoration","none"],["href","https://www.linuxtricks.fr/pages/bienvenue-sur-linuxtricks","target","_blank",2,"text-decoration","none"],["href","https://classroom.google.com","target","_blank",2,"text-decoration","none"],["href","https://iset.uvt.tn/course/index.php?categoryid=258",2,"text-decoration","none"]],template:function(r,i){1&r&&(I(0,"div",0)(1,"h3"),S(2," Site en ligne :"),w(),I(3,"ul")(4,"li")(5,"a",1),S(6,"w3school"),w()(),I(7,"li")(8,"a",2),S(9,"Linux envirement"),w()(),I(10,"li")(11,"a",3),S(12,"Google classroom"),w()()(),I(13,"h3"),S(14," Nos cours :"),w(),I(15,"ul")(16,"li")(17,"a",4),S(18,"UVT"),w()()()())}})}return t})();function hZ(t,e){if(1&t){const n=ws();I(0,"div",1)(1,"div",2)(2,"span",3),S(3,"Password"),w()(),I(4,"input",8),Oe("ngModelChange",function(i){return sr(n),ar(an().newUser.password=i)}),w()()}if(2&t){const n=an();ft(4),pt("ngModel",n.newUser.password)}}function fZ(t,e){if(1&t){const n=ws();I(0,"div",1)(1,"div",2)(2,"span",3),S(3,"Confirm Password"),w()(),I(4,"input",9),Oe("ngModelChange",function(i){return sr(n),ar(an().Cpassword=i)}),w()()}if(2&t){const n=an();ft(4),pt("ngModel",n.Cpassword)}}function pZ(t,e){if(1&t){const n=ws();I(0,"button",10),Oe("click",function(){return sr(n),ar(an().next())}),S(1,"Next"),w()}}function gZ(t,e){if(1&t){const n=ws();Fd(0),I(1,"div",1)(2,"div",2)(3,"span",11),S(4,"Nom et Prenom*"),w()(),I(5,"input",12),Oe("ngModelChange",function(i){return sr(n),ar(an().newUser.nom=i)}),w(),I(6,"input",12),Oe("ngModelChange",function(i){return sr(n),ar(an().newUser.prenom=i)}),w()(),I(7,"div",1)(8,"div",2)(9,"span",3),S(10,"Email*"),w()(),I(11,"input",13),Oe("ngModelChange",function(i){return sr(n),ar(an().newUser.mail=i)}),w()(),I(12,"div",1)(13,"div",2)(14,"span",3),S(15,"Tel"),w()(),I(16,"input",14),Oe("ngModelChange",function(i){return sr(n),ar(an().newUser.tel=i)}),w()(),I(17,"button",10),Oe("click",function(){return sr(n),ar(an().onSubmit())}),S(18," next "),w(),kd()}if(2&t){const n=an();ft(5),pt("ngModel",n.newUser.nom),ft(1),pt("ngModel",n.newUser.prenom),ft(5),pt("ngModel",n.newUser.mail),ft(5),pt("ngModel",n.newUser.tel)}}const mZ=[{path:"home",component:CM},{path:"about",component:cZ},{path:"clubs",component:lZ},{path:"cours",component:dZ},{path:"login",component:uZ},{path:"sign-up",component:(()=>{class t{constructor(n,r){this.fireService=n,this.router=r,this.Cpassword="",this.Users=[],this.newUser={nom:"",prenom:"",tel:"",mail:"",username:"",password:""},this.show=!0}ngOnInit(){this.fireService.getEnseignants().then(n=>{this.Users=n})}next(){""===this.newUser.username||""===this.newUser.password||""===this.Cpassword||this.Cpassword!==this.newUser.password?alert("verify your data"):this.searchUser(this.newUser.username)?(this.newUser.username="",this.newUser.password="",this.Cpassword="",alert("there is an user with the same Username :\\\nPlease change it! ")):this.show=!this.show}onSubmit(){""===this.newUser.nom||""===this.newUser.prenom||""===this.newUser.mail?alert("check fields"):(this.fireService.addEnseignant(this.newUser),this.router.navigate(["/login"]))}searchUser(n){for(const r of this.Users)if(r.username.toUpperCase()===n.toUpperCase())return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||t)(b(RV),b(Yt))};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-sign-up"]],decls:12,vars:6,consts:[[1,"container","m-5"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","inputGroup-sizing-default",1,"input-group-text"],["type","text","aria-label","Username","aria-describedby","inputGroup-sizing-default",1,"form-control",3,"ngModel","readOnly","ngModelChange"],["class","input-group mb-3",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],["type","password","aria-label","Password","aria-describedby","inputGroup-sizing-default",1,"form-control",3,"ngModel","ngModelChange"],["type","password","aria-label","Confirm Password","aria-describedby","inputGroup-sizing-default",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],["id","",1,"input-group-text"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","text","aria-label","Email","aria-describedby","inputGroup-sizing-default",1,"form-control",3,"ngModel","ngModelChange"],["type","text","aria-label","Tel","aria-describedby","inputGroup-sizing-default",1,"form-control",3,"ngModel","ngModelChange"]],template:function(r,i){1&r&&(I(0,"div",0)(1,"h2"),S(2,"Sign Up"),w(),I(3,"div",1)(4,"div",2)(5,"span",3),S(6,"Username"),w()(),I(7,"input",4),Oe("ngModelChange",function(s){return i.newUser.username=s}),w()(),Qi(8,hZ,5,1,"div",5),Qi(9,fZ,5,1,"div",5),Qi(10,pZ,2,0,"button",6),Qi(11,gZ,19,4,"ng-container",7),w()),2&r&&(ft(7),pt("ngModel",i.newUser.username)("readOnly",!i.show),ft(1),pt("ngIf",i.show),ft(1),pt("ngIf",i.show),ft(1),pt("ngIf",i.show),ft(1),pt("ngIf",!i.show))},dependencies:[O_,gl,BI,Ep]})}return t})()},{path:"**",component:CM}];let _Z=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t});static#n=this.\u0275inj=Ln({imports:[wM.forRoot(mZ),wM]})}return t})();function yZ(t,e){1&t&&(I(0,"li",7)(1,"a",14),S(2,"Connect "),w()())}function vZ(t,e){if(1&t){const n=ws();I(0,"li",15)(1,"a",16),S(2),w(),I(3,"div",17)(4,"a",18),S(5,"Profile"),w(),I(6,"a",18),S(7,"Another action"),w(),I(8,"a",18),S(9,"Something else here"),w(),sn(10,"div",19),I(11,"a",20),Oe("click",function(){return sr(n),ar(an().share.desc())}),S(12,"Deconnect"),w()()()}if(2&t){const n=an();ft(2),jd("Hi, ",n.share.User.username,"")}}const EZ=function(){return{exact:!0}};let IZ=(()=>{class t{constructor(n){this.share=n,this.connection=this.share.userConnected}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)(b(MV))};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-navbar"]],decls:22,vars:4,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-primary"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor01","aria-controls","navbarColor01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor01",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["routerLink","","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","cours","routerLinkActive","active-link",1,"nav-link"],["routerLink","clubs","routerLinkActive","active-link",1,"nav-link"],["routerLink","about","routerLinkActive","active-link",1,"nav-link"],["class","nav-item ",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],["routerLink","login","routerLinkActive","active-link",1,"nav-link"],[1,"nav-item","dropdown"],["data-bs-toggle","dropdown","href","#","role","button","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item","btn"],[1,"dropdown-divider"],[1,"dropdown-item","btn",3,"click"]],template:function(r,i){1&r&&(I(0,"nav",0)(1,"div",1)(2,"a",2),S(3,"Iset Rades"),w(),I(4,"button",3),sn(5,"span",4),w(),I(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),S(10,"Home "),w()(),I(11,"li",7)(12,"a",9),S(13,"Cours "),w()(),I(14,"li",7)(15,"a",10),S(16,"Clubs "),w()(),I(17,"li",7)(18,"a",11),S(19,"About "),w()(),Qi(20,yZ,3,0,"li",12),Qi(21,vZ,13,1,"li",13),w()()()()),2&r&&(ft(9),pt("routerLinkActiveOptions",ob(3,EZ)),ft(11),pt("ngIf",!i.share.userConnected),ft(1),pt("ngIf",i.share.userConnected))},dependencies:[O_,oc,pM],styles:[".active-link[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline;color:#efefefd9}"]})}return t})(),wZ=(()=>{class t{constructor(){this.title="UVT"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=tr({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&sn(0,"app-navbar")(1,"router-outlet")},dependencies:[fy,IZ]})}return t})(),DZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=nr({type:t,bootstrap:[wZ]});static#n=this.\u0275inj=Ln({imports:[eq,aZ,_Z]})}return t})();XG().bootstrapModule(DZ).catch(t=>console.error(t))}},we=>{we(we.s=827)}]);